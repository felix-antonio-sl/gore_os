_meta:
  urn: urn:goreos:atom:process:d_gob_p5:1.0.0
  type: Process
  schema: urn:goreos:schema:process:1.0.0
  source: archive/legacy_domains/domain_d-gob.md
id: PROC-GOB-P5
name: Registro y Vinculación de Actores
domain: D-GOB
code: P5
process_type: BPMN
spec:
  bpmn_id: BPMN-GN-GOB-ACTORES-01
  mermaid_ref: domain_d-gob.md#p5-registro-y-vinculación-de-actores-nuevo
  frecuencia: "A demanda"
  mermaid: |
    flowchart TD
        A["Solicitud de registro<br/>(interno o externo)"] --> B{"¿Actor existe<br/>en sistema?"}
        B -->|"No"| C["Crear ficha Actor:<br/>• RUT/Razón Social<br/>• Tipo<br/>• Contactos<br/>• Comuna"]
        B -->|"Sí"| D["Actualizar datos"]
        C --> E["Validar RUT con<br/>SII/ChileProveedores"]
        D --> E
        E --> F{"¿Validación OK?"}
        F -->|"Sí"| G["Actor Activo"]
        F -->|"No"| H["Revisar datos"]
        H --> C
        G --> I{"¿Qué rol<br/>adicional?"}
        I -->|"Ejecutor"| J["Verificar capacidades:<br/>• PJ vigente<br/>• Directorio actualizado<br/>• Sin deuda GORE"]
        I -->|"Proveedor"| K["Verificar en<br/>ChileProveedores"]
        J --> L{"¿Habilitado?"}
        K --> M{"¿Habilitado?"}
        L -->|"Sí"| N["Asignar rol EJECUTOR<br/>+ crear enlace D-FIN"]
        L -->|"No"| O["Rechazar con motivo"]
        M -->|"Sí"| P["Asignar rol PROVEEDOR<br/>+ habilitar para OC"]
        M -->|"No"| Q["Solicitar registro MP"]
        N --> R["Actor con roles<br/>múltiples habilitados"]
        P --> R
