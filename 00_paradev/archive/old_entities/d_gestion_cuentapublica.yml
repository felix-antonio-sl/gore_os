_meta:
  urn: urn:goreos:entity:d_gestion:ENT-GESTION-CUENTAPUBLICA:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_cuenta
  type: String
  key: true
  description: 'Identificador único (ej: CP-2024)'
- name: año_gestion
  type: Integer
  nullable: false
  description: Año de gestión reportado
- name: titulo
  type: String
  nullable: false
  description: 'Título (ej: Cuenta Pública Gestión 2024)'
- name: resumen_ejecutivo
  type: Text
  nullable: true
  description: Síntesis para presentación
- name: ejecucion_presupuestaria_pct
  type: Decimal
  nullable: true
  description: Porcentaje ejecución presupuesto
- name: avance_erd_pct
  type: Decimal
  nullable: true
  description: Porcentaje avance ERD
- name: hgore_promedio
  type: Decimal
  nullable: true
  description: H_gore promedio del año
- name: total_inversion_ejecutada
  type: Decimal
  nullable: true
  description: Inversión ejecutada en M$
- name: convenios_ejecutados
  type: Integer
  nullable: true
- name: proyectos_finalizados
  type: Integer
  nullable: true
- name: contenido_completo
  type: JSON
  nullable: true
  description: "Contenido estructurado:\n{\n  \"ejecucion_presupuestaria\": {...},\n\
    \  \"avance_erd\": {...},\n  \"cartera_ipr\": {...},\n  \"convenios\": {...},\n\
    \  \"logros_destacados\": [...],\n  \"desafios\": [...],\n  \"compromisos_nuevos\"\
    : [...]\n}\n"
- name: url_documento
  type: String
  nullable: true
  description: URL documento oficial (PDF)
- name: url_video
  type: String
  nullable: true
  description: URL grabación presentación
- name: fecha_presentacion
  type: Date
  nullable: true
  description: Fecha presentación al CORE
- name: sesion_core_id
  type: String
  nullable: true
  description: ID sesión CORE donde se presentó
- name: asistentes_core
  type: Integer
  nullable: true
  description: Cantidad consejeros presentes
- name: cuenta_participativa
  type: Boolean
  default: false
  description: ¿Se realizó cuenta participativa?
- name: fecha_cuenta_participativa
  type: Date
  nullable: true
- name: asistentes_ciudadanos
  type: Integer
  nullable: true
- name: gobernador_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Gobernador que presenta
- name: estado
  type: Enum[EnPreparacion, Aprobada, Presentada, Publicada]
  default: EnPreparacion
- name: compromisos_cuenta
  type: JSON
  nullable: true
  description: "Compromisos asumidos públicamente:\n[{\n  \"compromiso\": \"...\"\
    ,\n  \"plazo\": \"...\",\n  \"responsable\": \"...\"\n}]\n"
invariants:
- id: INV-CP-001
  name: presentada_requiere_fecha
  rule: estado = 'Presentada' → fecha_presentacion IS NOT NULL
  description: Cuenta presentada debe tener fecha
- id: INV-CP-002
  name: publicada_requiere_url
  rule: estado = 'Publicada' → url_documento IS NOT NULL
  description: Cuenta publicada debe tener documento
id: ENT-GESTION-CUENTAPUBLICA
urn: urn:goreos:entity:d_gestion:ENT-GESTION-CUENTAPUBLICA:1.0.0
name: Cuentapublica
domain: D-GESTION
