_meta:
  urn: urn:goreos:entity:d_gestion:ENT-GESTION-PLAYBOOK:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_playbook
  type: String
  key: true
  description: 'Identificador único (ej: PB-P01)'
- name: codigo
  type: String
  nullable: false
  description: Código estándar (P01, P02, etc.)
- name: nombre
  type: String
  nullable: false
  description: Nombre del playbook
- name: descripcion
  type: Text
  nullable: true
  description: Descripción del propósito
- name: categoria
  type: Enum[Recuperacion, Calidad, Alineamiento, Respuesta, Cadencia, Crisis, Onboarding]
  nullable: false
  description: Categoría del playbook
- name: nivel_criticidad
  type: Enum[Bajo, Medio, Alto, Critico]
  default: Medio
  description: Nivel de criticidad
- name: condicion_disparo
  type: Text
  nullable: false
  description: Condiciones que activan el playbook
- name: trigger_automatico
  type: Boolean
  default: false
  description: ¿Se activa automáticamente?
- name: fuente_trigger
  type: Enum[H_gore, UC, Manual, Sistema, FENIX, CGR]
  nullable: true
  description: Origen del trigger
- name: duracion_estimada
  type: String
  nullable: false
  description: 'Duración esperada (ej: 1 día, 2 semanas)'
- name: duracion_horas
  type: Integer
  nullable: true
  description: Duración en horas (para SLA)
- name: pasos
  type: JSON
  nullable: false
  description: "Array de pasos:\n[{\n  \"orden\": 1,\n  \"descripcion\": \"...\",\n\
    \  \"responsable_rol\": \"Jefe UC\",\n  \"checklist\": [\"item1\", \"item2\"],\n\
    \  \"duracion_estimada\": \"2h\"\n}]\n"
- name: cantidad_pasos
  type: Integer
  computed: true
  description: Número total de pasos
- name: raci
  type: JSON
  nullable: false
  description: "Matriz RACI:\n{\n  \"responsible\": [\"rol1\"],\n  \"accountable\"\
    : \"Administrador Regional\",\n  \"consulted\": [\"rol2\", \"rol3\"],\n  \"informed\"\
    : [\"división\"]\n}\n"
- name: criterios_exito
  type: Text
  nullable: false
  description: Condiciones para considerar exitoso
- name: metricas_exito
  type: Array[String]
  nullable: true
  description: Indicadores a medir
- name: outputs
  type: Array[String]
  nullable: true
  description: Entregables del playbook
- name: artefactos_requeridos
  type: Array[String]
  nullable: true
  description: Documentos necesarios
- name: version
  type: String
  default: '1.0'
  description: Versión del playbook
- name: fecha_ultima_actualizacion
  type: Date
  nullable: true
  description: Última revisión
- name: autor_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
  description: Autor o responsable
- name: estado
  type: Enum[Borrador, Activo, EnRevision, Deprecado]
  default: Activo
  description: Estado del playbook
invariants:
- id: INV-PB-001
  name: pasos_no_vacios
  rule: JSON_LENGTH(pasos) > 0
  description: Playbook debe tener al menos un paso
  severity: error
- id: INV-PB-002
  name: raci_accountable
  rule: raci.accountable IS NOT NULL
  description: Debe haber un accountable definido
  severity: error
id: ENT-GESTION-PLAYBOOK
urn: urn:goreos:entity:d_gestion:ENT-GESTION-PLAYBOOK:1.0.0
name: Playbook
domain: D-GESTION
