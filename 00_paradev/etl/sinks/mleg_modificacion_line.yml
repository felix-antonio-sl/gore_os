_meta:
  urn: urn:goreos:atom:entity:modificacion_presupuestaria:1.0.0
  type: Entity
id: ENT-MLEG-MODIF-LINE
name: line
name_singular: Línea de Modificación
domain: D-OPS
module: M10-LEGACY
source: Modificaciones
description: Líneas de modificación presupuestaria extraídas desde hojas MODIFICACIÓN N°1-9.
attributes:
  - name: sheet_id
    type: string
    required: true
    description: Identificador de la hoja de modificación (MODIFICACIÓN Nº1, etc.)
  - name: subtitulo
    type: string
    required: true
    description: Subtítulo presupuestario (SUBT)
  - name: item
    type: string
    required: true
    description: Ítem presupuestario
  - name: asignacion
    type: string
    required: true
    description: Asignación presupuestaria (ASIG)
  - name: amount_pre
    type: decimal
    description: Monto antes de la modificación
  - name: amount_post
    type: decimal
    description: Monto después de la modificación
  - name: amount_mod_signed
    type: decimal
    description: Diferencia calculada (post - pre) con signo correcto
  - name: block_type
    type: enum
    values: [INGRESOS, GASTOS]
    description: Tipo de bloque (INGRESOS o GASTOS)
  - name: sheet_status
    type: enum
    values: [ACTIVO, SIN_EFECTO]
    description: Estado de la hoja (hojas SIN EFECTO marcadas)
grain:
  - sheet_id
  - subtitulo
  - item
  - asignacion
morphisms:
  relacionado_con:
    - sheet (N:1)
