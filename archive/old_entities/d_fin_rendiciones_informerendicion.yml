_meta:
  urn: urn:goreos:entity:d_fin:ENT-FIN-RENDICIONES_INFORMERENDICION:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_informe
  type: String
  key: true
- name: rendicion_id
  type: String
  fk: ENT-FIN-RENDICION
  nullable: false
- name: tipo_informe
  type: Enum[InformeTecnico, InformeFinanciero, Comprobantes, DeclaracionJurada, LibroMayor,
    ExtractoBancario, CartillaGastos, Otro]
  nullable: false
- name: subtipo
  type: String
  nullable: true
  description: Detalle adicional (ej. "Factura Electrónica")
- name: descripcion
  type: Text
  nullable: true
- name: nombre_archivo
  type: String
  nullable: false
- name: url_documento
  type: String
  nullable: false
  description: Link a GDrive o repositorio documental
- name: hash_documento
  type: String
  nullable: true
  description: SHA-256 para verificar integridad
- name: tamaño_bytes
  type: Integer
  nullable: true
- name: formato
  type: Enum[PDF, XML, JPG, PNG, XLSX, CSV]
  nullable: true
- name: fecha_emision
  type: Date
  nullable: true
  description: Fecha del documento original
- name: fecha_carga
  type: DateTime
  nullable: false
  description: Timestamp de carga al sistema
- name: firmado_digitalmente
  type: Boolean
  default: false
- name: tipo_firma
  type: Enum[FEA, FES, Manual]
  nullable: true
- name: certificado_firma_id
  type: String
  nullable: true
  description: ID del certificado usado
- name: fecha_firma
  type: DateTime
  nullable: true
- name: firmante_rut
  type: String
  nullable: true
- name: estado_sisrec
  type: Enum[Pendiente, Validado, Rechazado, Excluido]
  default: Pendiente
- name: motivo_rechazo
  type: Text
  nullable: true
- name: validado_por_id
  type: String
  fk: ROL-ANALISTA-RENDICIONES
  nullable: true
- name: fecha_validacion
  type: Date
  nullable: true
- name: ingresado_por_id
  type: String
  fk: ROL-ENCARGADO-RENDICIONES
  nullable: true
  description: Funcionario del ejecutor que cargó
invariants:
- id: INV-INF-001
  name: url_obligatoria
  rule: url_documento IS NOT NULL
  description: Todo informe debe tener documento adjunto
- id: INV-INF-002
  name: firma_fea_requiere_certificado
  rule: tipo_firma = 'FEA' → certificado_firma_id IS NOT NULL
  description: FEA requiere certificado identificable
- id: INV-INF-003
  name: rechazo_requiere_motivo
  rule: estado_sisrec = 'Rechazado' → motivo_rechazo IS NOT NULL
  description: El rechazo debe estar fundamentado
id: ENT-FIN-RENDICIONES_INFORMERENDICION
urn: urn:goreos:entity:d_fin:ENT-FIN-RENDICIONES_INFORMERENDICION:1.0.0
name: Rendiciones Informerendicion
domain: D-FIN
