_meta:
  urn: urn:goreos:entity:d_plan:ENT-PLAN-ACTIVIDADESTRATEGICA:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
  - name: id_actividad
    type: String
    key: true
    description: "Identificador único (ej: ACT-1.1.1.1)"
  - name: codigo
    type: String
    nullable: false
    description: "Código jerárquico (ej: 1.1.1.1 para E1.L1.OE1.A1)"
  - name: nombre
    type: String
    nullable: false
    description: Nombre de la actividad estratégica
  - name: descripcion
    type: Text
    nullable: true
    description: Descripción detallada de la actividad
  - name: objetivo_estrategico_id
    type: String
    fk: ENT-PLAN-OE
    nullable: false
    description: Objetivo Estratégico al que pertenece
  - name: responsable_sectorial
    type: String
    nullable: true
    description: "Servicio/División responsable (ej: DIPLADE, SECTRA, MOP)"
  - name: responsable_secundario
    type: String
    nullable: true
    description: Corresponsable o colaborador
  - name: meta_fisica
    type: String
    nullable: true
    description: "Meta física esperada (ej: '10 km de caminos', '500 becas')"
  - name: meta_financiera_mm
    type: Decimal
    nullable: true
    description: Estimación de inversión en MM$
  - name: plazo_estimado
    type: Enum[CortoP, MedianoP, LargoP]
    default: MedianoP
    description: "Horizonte: Corto (<2 años), Mediano (2-5), Largo (5-10)"
  - name: ods_vinculados
    type: List[Integer]
    nullable: true
    description: "ODS de Agenda 2030 vinculados (ej: [8, 9, 11])"
  - name: estado
    type: Enum[Planificada, EnEjecucion, Completada, Suspendida]
    default: Planificada
    description: Estado de ejecución
  - name: avance_porcentual
    type: Integer
    default: 0
    description: Porcentaje de avance (0-100)
  - name: iprs_vinculadas_count
    type: Integer
    default: 0
    description: Cantidad de IPRs vinculadas a esta actividad
invariants:
  - name: jerarquia_valida
    rule: objetivo_estrategico_id EXISTS in ObjetivoEstrategico
    severity: CRITICAL
  - name: avance_coherente
    rule: avance_porcentual >= 0 AND avance_porcentual <= 100
    severity: HIGH
  - name: responsable_definido
    rule: estado != 'EnEjecucion' OR responsable_sectorial IS NOT NULL
    severity: MEDIUM
id: ENT-PLAN-ACTIVIDADESTRATEGICA
urn: urn:goreos:entity:d_plan:ENT-PLAN-ACTIVIDADESTRATEGICA:1.0.0
name: Actividadestrategica
domain: D-PLAN
