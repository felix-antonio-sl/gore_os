_meta:
  urn: urn:goreos:entity:d_gestion:ENT-GESTION-CONVENIOCDC:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_cdc
  type: String
  key: true
  description: 'Identificador único (ej: CDC-2025-DAF)'
- name: año
  type: Integer
  nullable: false
  description: Año fiscal
- name: division_id
  type: String
  fk: ENT-BACK-DIVISION
  nullable: false
  description: División/Departamento
- name: poa_id
  type: String
  fk: ENT-GESTION-POA
  nullable: true
  description: POA asociado
- name: metas_gestion
  type: JSON
  nullable: false
  description: "Metas de gestión (80%):\n[{\n  \"meta_id\": \"MG1\",\n  \"descripcion\"\
    : \"...\",\n  \"indicador\": \"...\",\n  \"ponderacion\": 20,\n  \"meta_valor\"\
    : 100,\n  \"real\": 0\n}]\n"
- name: metas_eficiencia
  type: JSON
  nullable: false
  description: "Metas de eficiencia institucional (20%):\n[{\n  \"meta_id\": \"ME1\"\
    ,\n  \"descripcion\": \"...\",\n  \"indicador\": \"...\",\n  \"ponderacion\":\
    \ 10,\n  \"meta_valor\": 100,\n  \"real\": 0\n}]\n"
- name: total_metas
  type: Integer
  default: 0
- name: cumplimiento_gestion
  type: Decimal
  nullable: true
  description: Porcentaje cumplimiento metas gestión
- name: cumplimiento_eficiencia
  type: Decimal
  nullable: true
  description: Porcentaje cumplimiento metas eficiencia
- name: cumplimiento_global
  type: Decimal
  computed: true
  formula: (cumplimiento_gestion * 0.80) + (cumplimiento_eficiencia * 0.20)
- name: estado
  type: Enum[Borrador, Aprobado, EnEjecucion, Cerrado]
  default: Borrador
- name: fecha_suscripcion
  type: Date
  nullable: true
  description: Fecha firma del convenio
- name: fecha_evaluacion
  type: Date
  nullable: true
  description: Fecha evaluación final
- name: jefe_division_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Jefe de División firmante
- name: funcionarios_afectos
  type: Integer
  default: 0
  description: Cantidad de funcionarios
- name: resultado
  type: Enum[Cumplido, NoCumplido]
  nullable: true
- name: incentivo_aplicado
  type: Boolean
  default: false
  description: ¿Se aplicó incentivo por desempeño?
- name: monto_incentivo
  type: Decimal
  nullable: true
  description: Monto total incentivo si aplica
invariants:
- id: INV-CDC-001
  name: metas_suman_100
  rule: SUM(metas_gestion[*].ponderacion + metas_eficiencia[*].ponderacion) = 100
  description: Ponderaciones deben sumar 100%
  severity: error
id: ENT-GESTION-CONVENIOCDC
urn: urn:goreos:entity:d_gestion:ENT-GESTION-CONVENIOCDC:1.0.0
name: Conveniocdc
domain: D-GESTION
