# Matriz de Migraci√≥n Legacy ‚Üí GORE_OS v3.0

## Vista R√°pida de Compatibilidad

```text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FUENTES LEGACY ‚Üí GORE_OS v3.0                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  üü¢ ALTA (‚â•80)    ‚îÇ  üü° MEDIA (60-79)   ‚îÇ  üü† BAJA (40-59)   ‚îÇ  üî¥ CR√çTICA ‚îÇ
‚îÇ                   ‚îÇ                     ‚îÇ                    ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ  partes: 68         ‚îÇ  idis: 58          ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ  250: 68 ‚ú®         ‚îÇ  fril: 54          ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ  convenios: 61      ‚îÇ  progs: 53         ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ                     ‚îÇ  funcionarios: 49  ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ                     ‚îÇ  modificaciones:43 ‚îÇ              ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> **Nota**: Puntajes actualizados 2026-01-27 con assessment automatizado.

## Mapeo Visual: Source ‚Üí Target

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                           GORE_OS v3.0 SCHEMA                                ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ   ‚îÇ   meta.*    ‚îÇ    ‚îÇ    ref.*    ‚îÇ    ‚îÇ   core.*    ‚îÇ    ‚îÇ    txn.*    ‚îÇ  ‚îÇ
‚îÇ   ‚îÇ  (5 tablas) ‚îÇ    ‚îÇ  (3 tablas) ‚îÇ    ‚îÇ (40 tablas) ‚îÇ    ‚îÇ  (2 tablas) ‚îÇ  ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                ‚îÇ                   ‚îÇ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                 ‚îÇ                   ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                                                                  ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ    ‚îÇ                     core.person                          ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê funcionarios (85) ‚úÖ                                ‚îÇ   ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îÇ                              ‚îÇ                                   ‚îÇ
        ‚îÇ                              ‚ñº                                   ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ    ‚îÇ                      core.user                           ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê funcionarios (email, rol)                          ‚îÇ   ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îÇ                              ‚îÇ                                   ‚îÇ
        ‚îÇ                              ‚ñº                                   ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ    ‚îÇ                       core.ipr                           ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê 250 (68) üü° [PORTFOLIO √ëuble 250] ‚ú®               ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê fril (54) üü† [PROYECTO/FRIL]                       ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê idis (58) üü† [PROYECTO/PROGRAMA/SNI]               ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê progs (53) üü† [PROGRAMA/8%]                        ‚îÇ   ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îÇ                              ‚îÇ                                   ‚îÇ
        ‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îÇ
        ‚îÇ          ‚ñº                   ‚ñº                   ‚ñº               ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
        ‚îÇ    ‚îÇcore.agree ‚îÇ    ‚îÇcore.ipr_mech ‚îÇ    ‚îÇcore.budget_  ‚îÇ        ‚îÇ
        ‚îÇ    ‚îÇ    ment   ‚îÇ    ‚îÇ    anism     ‚îÇ    ‚îÇ  commitment  ‚îÇ        ‚îÇ
        ‚îÇ    ‚îÇ‚Üê convenios‚îÇ    ‚îÇ‚Üê fril/idis   ‚îÇ    ‚îÇ‚Üê fril/modif. ‚îÇ        ‚îÇ
        ‚îÇ    ‚îÇ   (71) üü° ‚îÇ    ‚îÇ              ‚îÇ    ‚îÇ              ‚îÇ        ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
        ‚îÇ          ‚îÇ                                      ‚îÇ                ‚îÇ
        ‚îÇ          ‚ñº                                      ‚ñº                ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
        ‚îÇ    ‚îÇcore.agree ‚îÇ                    ‚îÇcore.budget_      ‚îÇ        ‚îÇ
        ‚îÇ    ‚îÇ_installmnt‚îÇ                    ‚îÇ    program       ‚îÇ        ‚îÇ
        ‚îÇ    ‚îÇ‚Üê convenios‚îÇ                    ‚îÇ‚Üê modificaciones  ‚îÇ        ‚îÇ
        ‚îÇ    ‚îÇ           ‚îÇ                    ‚îÇ   (47) üü†        ‚îÇ        ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
        ‚îÇ                                                                  ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ    ‚îÇ              core.administrative_act                     ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê partes (63) üü° [RECIBIDOS, OFICIOS, MEMOS]         ‚îÇ   ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îÇ                              ‚îÇ                                   ‚îÇ
        ‚îÇ                              ‚ñº                                   ‚îÇ
        ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ    ‚îÇ                   core.resolution                        ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê partes [RESOLUCIONES EXENTAS/AFECTAS]              ‚îÇ   ‚îÇ
        ‚îÇ    ‚îÇ    ‚Üê convenios (N¬∫ RES APRUEBA)                         ‚îÇ   ‚îÇ
        ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îÇ                                                                  ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Matriz Detallada de Campos

### core.ipr (Iniciativa de Inversi√≥n)

| Campo Target | 250 ‚ú® | fril | idis | progs |
|--------------|--------|------|------|-------|
| `codigo_bip` | BIP | C√≥digo | CODIGO BIP | codigo_8pct |
| `name` | NOMBRE DE INICIATIVA | Nombre Iniciativa | NOMBRE INICIATIVA | nombre_iniciativa |
| `ipr_nature` | DERIVE(FUENTE) | CONSTANT(PROYECTO) | DERIVE(SUBT) | CONSTANT(PROGRAMA) |
| `mcd_phase_id` | ETAPA A LA CUAL POSTULA | DERIVE(Estado) | ETAPA | CONSTANT(F4) |
| `status_id` | ESTADO | Estado+SubEstado | ESTADO ACTUAL | Estado UCR |
| `mechanism_id` | FUENTE FINANCIERA | CONSTANT(FRIL/31) | DERIVE(SUBT) | CONSTANT(SUBV8) |
| `budget_subtitle_id` | N/A | Item Presupuestario | SUBT | N/A |
| `territory_id` | COMUNA | N/A | N/A | comuna |
| `formulator_id` | FORMULADOR | N/A | N/A | rut_institucion |
| `executor_id` | UNIDAD T√âCNICA | N/A | N/A | N/A |
| `_portfolio` | TRAZO PRIMARIO/SEC. | N/A | N/A | N/A |

**Leyenda**:
- ‚úÖ Mapeo directo
- DERIVE() = Requiere transformaci√≥n
- CONSTANT() = Valor fijo
- N/A = No disponible en fuente

### core.agreement (Convenio)

| Campo Target | convenios |
|--------------|-----------|
| `code` | CODIGO |
| `agreement_type_id` | TIPO ‚Üí ENUM_MAP |
| `total_amount` | MONTO FNDR M$ ‚Üí PARSE_DECIMAL |
| `state_id` | ESTADO DE CONVENIO ‚Üí ENUM_MAP |
| `giver_id` | CONSTANT(GORE √ëuble) |
| `receiver_id` | RUT ‚Üí LOOKUP(organization) |
| `ipr_id` | JOIN(codigo_bip) |
| `valid_from` | FECHA RES APRUEBA |
| `resolution_id` | N¬∫ RES APRUEBA ‚Üí LOOKUP |

### core.person (Funcionario)

| Campo Target | funcionarios |
|--------------|--------------|
| `rut` | rut |
| `names` | nombre_completo ‚Üí SPLIT[0] |
| `paternal_surname` | nombre_completo ‚Üí SPLIT[1] |
| `maternal_surname` | nombre_completo ‚Üí SPLIT[2] |
| `organization_id` | division ‚Üí LOOKUP |

### core.budget_program (Programa Presupuestario)

| Campo Target | modificaciones |
|--------------|----------------|
| `code` | CONCAT(SUBT, ITEM, ASIG) |
| `name` | DENOMINACIONES |
| `fiscal_year` | DERIVE(filename) |
| `initial_amount` | DISTRIBUCI√ìN INICIAL M$ |
| `current_amount` | PPTO. VIGENTE... |

### core.administrative_act (Acto Administrativo)

| Campo Target | partes |
|--------------|--------|
| `code` | NUMERO DOCUMENTO |
| `act_type_id` | TIPO DE DOCUMENTO ‚Üí ENUM_MAP |
| `act_date` | FECHA DOCUMENTO ‚Üí PARSE_DATE |
| `subject` | MATERIA |
| `state_id` | ESTADO (solo AFECTAS) |

## Transformaciones Requeridas

### Por Complejidad

```
üü¢ LOW (Directas)
‚îú‚îÄ‚îÄ TRIM
‚îú‚îÄ‚îÄ UPPER/LOWER
‚îú‚îÄ‚îÄ VALIDATE_PATTERN
‚îî‚îÄ‚îÄ CONSTANT

üü° MEDIUM (Parseo)
‚îú‚îÄ‚îÄ PARSE_DECIMAL_CLP ($1.234.567 ‚Üí 1234567.00)
‚îú‚îÄ‚îÄ PARSE_DATE (DD-MM-YYYY, DD/MM/YY, etc.)
‚îú‚îÄ‚îÄ NAME_SPLIT (Juan P√©rez Garc√≠a ‚Üí [Juan, P√©rez, Garc√≠a])
‚îú‚îÄ‚îÄ ENUM_MAP (VIGENTE ‚Üí agreement_state.VIGENTE)
‚îî‚îÄ‚îÄ LOOKUP (RUT ‚Üí organization_id)

üü† HIGH (L√≥gica)
‚îú‚îÄ‚îÄ COMPOSITE_STATUS (Estado + SubEstado ‚Üí ipr_state)
‚îú‚îÄ‚îÄ DERIVE_PHASE (Estado ‚Üí mcd_phase)
‚îú‚îÄ‚îÄ UNPIVOT (EJEC.2021..2025 ‚Üí txn.magnitude rows)
‚îú‚îÄ‚îÄ RECALCULATE (final - vigente = delta)
‚îî‚îÄ‚îÄ LOOKUP_OR_CREATE (Si org no existe, crearla)
```

### Funciones de Transformaci√≥n

```python
# Ejemplo de transformaciones principales

def parse_decimal_clp(value: str) -> Decimal:
    """$ 1.234.567,89 ‚Üí 1234567.89"""
    if not value or value in ['$ -', '-', '#REF!']:
        return None
    clean = re.sub(r'[$ \xa0]', '', value)
    clean = clean.replace('.', '').replace(',', '.')
    return Decimal(clean)

def parse_date_flexible(value: str) -> date:
    """M√∫ltiples formatos ‚Üí ISO date"""
    formats = ['%d-%m-%Y', '%d/%m/%Y', '%d.%m.%Y', '%Y-%m-%d', '%d/%m/%y']
    for fmt in formats:
        try:
            return datetime.strptime(value.strip(), fmt).date()
        except ValueError:
            continue
    return None

def map_estado_compuesto(estado: str, subestado: str) -> str:
    """Estado + SubEstado ‚Üí ipr_state code"""
    mapping = {
        ('EJECUCI√ìN', 'AVANCE'): 'EN_EJECUCION',
        ('EJECUCI√ìN', 'ADJUDICACI√ìN'): 'ADJUDICADO',
        ('LICITACI√ìN', None): 'EN_LICITACION',
        ('CONVENIO', 'FIRMADO'): 'FORMALIZADO',
        ('PARALIZACI√ìN', None): 'SUSPENDIDO',
    }
    return mapping.get((estado, subestado), 'INGRESADO')

def lookup_or_create_organization(rut: str, name: str) -> UUID:
    """Busca org por RUT, crea si no existe"""
    org = Organization.query.filter_by(rut=rut).first()
    if not org:
        org = Organization(
            rut=rut,
            name=name,
            org_type_id=get_category_id('org_type', 'EMPRESA')
        )
        db.session.add(org)
        db.session.flush()
    return org.id
```

## Dependencias de Migraci√≥n

```mermaid
graph LR
    subgraph "Fase 0: Setup"
        REF[ref.category seed]
        ORG_BASE[core.organization base]
    end

    subgraph "Fase 1: Personas"
        FUNC[funcionarios]
        PERSON[core.person]
        USER[core.user]
    end

    subgraph "Fase 2: IPR"
        N250[250 - √ëuble 250]
        FRIL[fril]
        IDIS[idis]
        PROGS[progs]
        IPR[core.ipr]
    end

    subgraph "Fase 3: Convenios"
        CONV[convenios]
        AGR[core.agreement]
    end

    subgraph "Fase 4: Documentos"
        PARTES[partes]
        ACT[core.administrative_act]
        RES[core.resolution]
    end

    subgraph "Fase 5: Presupuesto"
        MOD[modificaciones]
        BPROG[core.budget_program]
        BCOMM[core.budget_commitment]
    end

    REF --> FUNC
    ORG_BASE --> FUNC
    FUNC --> PERSON
    PERSON --> USER

    USER --> IPR
    N250 --> IPR
    FRIL --> IPR
    IDIS --> IPR
    PROGS --> IPR

    IPR --> AGR
    CONV --> AGR

    PARTES --> ACT
    ACT --> RES
    CONV --> RES

    MOD --> BPROG
    IPR --> BCOMM
    BPROG --> BCOMM
```

## Comandos de Ejecuci√≥n

```bash
# 1. Ejecutar evaluaci√≥n de compatibilidad
cd /Users/felixsanhueza/Developer/goreos/etl/scripts
python compatibility_assessment.py --output ../docs/compatibility_report.json

# 2. Ver reporte generado
cat ../docs/compatibility_report.json | jq '.assessments[] | {name, overall_score, classification}'

# 3. Ejecutar limpieza por fuente (cuando existan scripts)
python clean_convenios.py
python clean_fril.py
python clean_idis.py  # Requiere intervenci√≥n manual previa

# 4. Ejecutar migraci√≥n por fase
python migrate_phase1_personas.py
python migrate_phase2_ipr.py
python migrate_phase3_convenios.py
python migrate_phase4_documentos.py
python migrate_phase5_presupuesto.py

# 5. Validar post-migraci√≥n
psql -U postgres -d goreos -f ../docs/validation_queries.sql
```

## Pr√≥ximos Pasos

1. **Ejecutar `compatibility_assessment.py`** para obtener m√©tricas actualizadas
2. **Priorizar limpieza de IDIS y MODIFICACIONES** (clasificaci√≥n BAJA)
3. **Crear scripts de limpieza** por fuente
4. **Implementar pipeline ETL** con Prefect/Airflow
5. **Crear dashboard de calidad** post-migraci√≥n

---

**√öltima actualizaci√≥n**: 2026-01-27
**Versi√≥n**: 1.0.0
