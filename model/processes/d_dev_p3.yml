_meta:
  urn: urn:goreos:atom:process:d_dev_p3:1.0.0
  type: Process
  schema: urn:goreos:schema:process:1.0.0
  source: archive/legacy_domains/domain_d-dev.md
id: PROC-DEV-P3
name: Despliegue a Producción
domain: D-DEV
code: P3
process_type: BPMN
spec:
  bpmn_id: BPMN-GN-DEV-RELEASE-01
  mermaid_ref: domain_d-dev.md#73-p3-despliegue-a-producción
  trigger: "Cambios en main"
  output: "Release completo"
  mermaid: |
    flowchart TD
        A["Cambios en<br/>main"] --> B["Pipeline de<br/>release"]
        B --> C["Build<br/>producción"]
        C --> D["Deploy a<br/>staging"]
        D --> E["Validación<br/>staging"]
        E --> F{"¿OK?"}
        F -->|"No"| G["Rollback<br/>y fix"]
        G --> A
        F -->|"Sí"| H["Deploy a<br/>producción"]
        H --> I["Monitorear<br/>15min"]
        I --> J{"¿Estable?"}
        J -->|"No"| K["Rollback<br/>automático"]
        J -->|"Sí"| L["Release<br/>completo"]
        L --> M["Notificar<br/>a D-OPS"]
