_meta:
  urn: urn:goreos:entity:d_evol:ENT-EVOL-DELEGACION:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_delegacion
  type: String
  key: true
- name: capacidad_ia_id
  type: String
  fk: ENT-EVOL-CAPACIDAD
  nullable: false
- name: funcionario_accountable_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Humano con accountability moral intransferible
- name: modo
  type: Enum[M1_Monitorear, M2_Asistir, M3_Habilitar, M4_Controlar, M5_Supervisar,
    M6_Ejecutar]
  nullable: false
- name: fecha_inicio
  type: Date
  nullable: false
- name: fecha_fin
  type: Date
  nullable: true
  description: NULL = delegación vigente
- name: evidencia_url
  type: String
  nullable: true
  description: URL a documentación de explainability
- name: trajectory_log_id
  type: String
  nullable: true
  description: Referencia a log de desempeño
- name: override_enabled
  type: Boolean
  default: true
  description: Mecanismo de override disponible
- name: guardrails_comprehensive
  type: Boolean
  default: false
  description: Guardrails completos (requerido para M6)
- name: estado
  type: Enum[Activa, Suspendida, Revocada, Completada]
  default: Activa
- name: modo_anterior
  type: Enum[M1_Monitorear, M2_Asistir, M3_Habilitar, M4_Controlar, M5_Supervisar,
    M6_Ejecutar]
  nullable: true
  description: Modo previo a promoción/degradación
- name: fecha_cambio_modo
  type: Date
  nullable: true
invariants:
- id: INV-DEL-001
  name: explainability_m3_plus
  rule: modo ∈ {'M3_Habilitar', 'M4_Controlar', 'M5_Supervisar', 'M6_Ejecutar'} →
    evidencia_url IS NOT NULL
  description: Explainability obligatoria para M3+
  orko_ref: I5_HAIC
- id: INV-DEL-002
  name: m6_requiere_override
  rule: modo = 'M6_Ejecutar' → override_enabled = true
  description: M6 requiere override mechanism
  orko_ref: I5_HAIC
- id: INV-DEL-003
  name: m6_requiere_guardrails
  rule: modo = 'M6_Ejecutar' → guardrails_comprehensive = true
  description: M6 requiere guardrails completos
  orko_ref: I5_HAIC
- id: INV-DEL-004
  name: capacidad_algoritmico
  rule: capacidad_ia_id.sustrato ∈ {'Algoritmico', 'Mixto'}
  description: Solo capacidades algorítmicas pueden delegarse
id: ENT-EVOL-DELEGACION
urn: urn:goreos:entity:d_evol:ENT-EVOL-DELEGACION:1.0.0
name: Delegacion
domain: D-EVOL
