_meta:
  urn: urn:goreos:entity:d-fin:licitacion:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
id: ENT-FIN-LICITACION
urn: urn:goreos:entity:d-fin:licitacion:1.0.0
name: Licitación Pública
domain: D-FIN
subdomain: compras
category: Process-Entity
is_abstract: false
attributes:
- name: id_licitacion
  type: String
  key: true
  description: ID generado por Mercado Público
- name: nombre_licitacion
  type: String
  nullable: false
- name: tipo_licitacion
  type: Enum[Normal, Abreviada, Grande]
  nullable: false
- name: rango_monto
  type: Enum[Menos3UTM, 3a100UTM, 100a1000UTM, Mas1000UTM, Mas5000UTM]
  nullable: false
- name: fecha_publicacion
  type: Date
  nullable: false
- name: fecha_cierre_ofertas
  type: DateTime
  nullable: false
- name: plazo_minimo_dias
  type: Integer
  computed: true
  description: 20 (normal), 10 (abreviada), 30 (grande)
- name: bases_administrativas_url
  type: String
  nullable: false
- name: bases_tecnicas_url
  type: String
  nullable: false
- name: criterios_evaluacion
  type: YAML
  description: Ponderaciones técnico, económico, plazo, etc.
- name: comision_evaluadora
  type: List[String]
  description: IDs de funcionarios designados (mín. 3)
- name: resolucion_comision
  type: String
  nullable: true
- name: fecha_adjudicacion
  type: Date
  nullable: true
- name: proveedor_adjudicado_id
  type: String
  fk: ENT-FIN-PROVEEDOR
  nullable: true
- name: monto_adjudicado
  type: Decimal
  nullable: true
- name: resolucion_adjudicacion
  type: String
  nullable: true
  description: Resolución Exenta del Gobernador
- name: estado
  type: Enum[Borrador, Publicada, EnEvaluacion, Adjudicada, Desierta, Revocada]
  default: Borrador
- name: requiere_garantia_seriedad
  type: Boolean
  computed: true
  formula: rango_monto = Mas5000UTM
- name: garantia_seriedad_id
  type: String
  fk: ENT-FIN-GARANTIA
  nullable: true
invariants:
- name: plazos_publicacion
  rule: 'IF tipo_licitacion = Normal THEN plazo >= 20

    IF tipo_licitacion = Abreviada THEN plazo >= 10

    IF tipo_licitacion = Grande THEN plazo >= 30

    '
  source: MANUAL-COMPRAS-SEC-III-LP-01
- name: comision_minima
  rule: LENGTH(comision_evaluadora) >= 3
  source: MANUAL-COMPRAS-SEC-III-LP-01
