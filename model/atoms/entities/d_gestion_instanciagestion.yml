_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_instancia
  type: String
  key: true
  description: 'Identificador único (ej: IG-2025-001)'
- name: codigo
  type: String
  nullable: true
  description: 'Código corto (ej: CDR-T1, RPO-DAF-03)'
- name: nombre
  type: String
  nullable: false
  description: Nombre de la instancia
- name: tipo
  type: Enum[ComiteRiesgos, RevisionPOA, DirectorioGestion, ComiteCrisis, SesionCORE,
    ComiteDirectivo, Otro]
  nullable: false
  description: Tipo de instancia
- name: nivel
  type: Enum[Estrategico, Tactico, Operativo]
  default: Tactico
  description: Nivel de la instancia
- name: periodicidad
  type: Enum[Semanal, Quincenal, Mensual, Trimestral, Semestral, Anual, AdHoc]
  nullable: false
  description: Frecuencia programada
- name: fecha
  type: Date
  nullable: false
  description: Fecha de la reunión
- name: hora_inicio
  type: Time
  nullable: true
  description: Hora de inicio
- name: hora_fin
  type: Time
  nullable: true
  description: Hora de término
- name: duracion_minutos
  type: Integer
  computed: true
  description: Duración en minutos
- name: convocante_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Quién convoca (AR, Jefe UC, GR)
- name: asistentes
  type: Array[String]
  nullable: true
  description: IDs de funcionarios asistentes
- name: asistentes_externos
  type: Array[String]
  nullable: true
  description: Nombres de externos si aplica
- name: quorum_alcanzado
  type: Boolean
  default: true
  description: ¿Se alcanzó quórum?
- name: tabla
  type: JSON
  nullable: true
  description: "Tabla de la reunión:\n[{\n  \"punto\": 1,\n  \"descripcion\": \"...\"\
    ,\n  \"tiempo_asignado\": 15,\n  \"responsable_presentar\": \"...\"\n}]\n"
- name: reportes_revisados
  type: Array[String]
  nullable: true
  description: IDs de ReporteGestion revisados
- name: riesgos_tratados
  type: Array[String]
  nullable: true
  description: IDs de Riesgos discutidos
- name: poas_evaluados
  type: Array[String]
  nullable: true
  description: IDs de POAs evaluados
- name: hgore_presentado_id
  type: String
  fk: ENT-GESTION-PUNTAJE-HGORE
  nullable: true
  description: Puntaje H_gore presentado
- name: acta_resumen
  type: Text
  nullable: true
  description: Resumen ejecutivo del acta
- name: decisiones_clave
  type: Array[String]
  nullable: true
  description: Decisiones principales tomadas
- name: url_acta_completa
  type: String
  nullable: true
  description: URL al documento de acta completa
- name: estado
  type: Enum[Programada, EnCurso, Completada, Cancelada, Pospuesta]
  default: Programada
  description: Estado de la instancia
- name: compromisos_generados
  type: Integer
  default: 0
  description: Número de compromisos creados
- name: proxima_instancia_fecha
  type: Date
  nullable: true
  description: Fecha próxima reunión si es recurrente
- name: es_sesion_core
  type: Boolean
  default: false
  description: True si tipo = SesionCORE
- name: sesion_core_ordinaria
  type: Boolean
  nullable: true
  description: True = Ordinaria, False = Extraordinaria
- name: consejeros_presentes
  type: Integer
  nullable: true
  description: Cantidad de consejeros regionales presentes
- name: quorum_core
  type: Boolean
  nullable: true
  description: ¿Se alcanzó quórum del CORE (mayoría absoluta)?
- name: acuerdo_core_id
  type: String
  nullable: true
  description: ID del acuerdo CORE si se generó
- name: cuenta_publica_id
  type: String
  fk: ENT-GESTION-CUENTA-PUBLICA
  nullable: true
  description: Cuenta pública presentada (si aplica)
- name: seguimiento_proyecto_mejora_id
  type: String
  fk: ENT-GESTION-PROYECTO-MEJORA
  nullable: true
  description: Seguimiento PDCA Check (vínculo D-GESTION)
invariants:
- id: INV-IG-001
  name: completada_requiere_acta
  rule: estado = 'Completada' → acta_resumen IS NOT NULL
  description: Instancia completada debe tener acta
  severity: warning
- id: INV-IG-002
  name: crisis_requiere_hgore
  rule: tipo = 'ComiteCrisis' → hgore_presentado_id IS NOT NULL
  description: Comité de crisis debe revisar H_gore
- id: INV-IG-003
  name: core_requiere_quorum
  rule: tipo = 'SesionCORE' AND estado = 'Completada' → quorum_core IS NOT NULL
  description: Sesión CORE completada debe registrar quórum
  severity: warning
