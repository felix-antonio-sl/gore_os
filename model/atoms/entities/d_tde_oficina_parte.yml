_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_oficina
  type: String
  key: true
- name: entidad_id
  type: String
  fk: ENT-TDE-ENTIDAD-REGIONAL
  nullable: false
- name: nombre
  type: String
  nullable: false
  description: Nombre de la oficina de partes
- name: codigo
  type: String
  nullable: true
  description: Código interno
- name: admin_principal_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Administrador Principal designado (máx. 3 por institución)
- name: estado
  type: Enum[Demo, Produccion, Inactiva]
  default: Demo
- name: fecha_habilitacion
  type: Date
  nullable: true
- name: fecha_produccion
  type: Date
  nullable: true
- name: division_id
  type: String
  fk: ENT-BACK-DIVISION
  nullable: true
  description: División a la que pertenece la oficina
invariants:
- id: INV-OP-001
  name: produccion_requiere_habilitacion
  rule: estado = 'Produccion' → fecha_produccion IS NOT NULL
  description: Oficinas en producción requieren fecha
