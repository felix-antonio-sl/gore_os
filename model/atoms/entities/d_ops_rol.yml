_meta:
  urn: urn:goreos:entity:d_ops:ENT-OPS-ROL:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_rol
  type: String
  key: true
- name: codigo
  type: String
  nullable: false
  description: 'Código único ej: ADMIN, ANALISTA_FIN, OPERADOR'
- name: nombre
  type: String
  nullable: false
- name: descripcion
  type: Text
  nullable: true
- name: tipo
  type: Enum[Sistema, Dominio, Custom]
  nullable: false
  description: Sistema=builtin, Dominio=por área, Custom=adhoc
- name: nivel
  type: Enum[SuperAdmin, Admin, Manager, Operator, Viewer, Guest]
  nullable: false
- name: dominio
  type: String
  nullable: true
  description: Dominio GORE_OS al que aplica (D-FIN, D-PLAN, etc.)
- name: estado
  type: Enum[Activo, Inactivo]
  default: Activo
- name: fecha_creacion
  type: Date
  nullable: false
invariants:
- id: INV-ROL-001
  name: codigo_unico
  rule: UNIQUE(codigo)
  description: Código de rol debe ser único
- id: INV-ROL-002
  name: sistema_inmutable
  rule: tipo = 'Sistema' → IMMUTABLE
  description: Roles de sistema no pueden modificarse
- id: INV-ROL-003
  name: tiene_permisos
  rule: permisos.count > 0
  description: Todo rol debe tener al menos un permiso
id: ENT-OPS-ROL
urn: urn:goreos:entity:d_ops:ENT-OPS-ROL:1.0.0
name: Rol
domain: D-OPS
