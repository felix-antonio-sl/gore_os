_meta:
  urn: urn:goreos:entity:d_tde:ENT-TDE-SERVICIOCONFIANZA:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_servicio
  type: String
  key: true
- name: nombre
  type: String
  nullable: false
- name: tipo
  type: Enum[Autenticacion, FirmaElectronica, SelloTiempo, VerificacionIdentidad,
    EntregaCertificada]
  nullable: false
- name: proveedor_id
  type: String
  fk: ENT-TDE-ENTIDAD-REGIONAL
  nullable: true
  description: Puede ser GORE (si actúa como autoridad) o externo
- name: es_proveedor_acreditado
  type: Boolean
  default: true
  description: ¿Acreditado por MINECON/Entidad Acreditadora?
- name: nivel_confianza
  type: Enum[Bajo, Medio, Alto, MuyAlto]
  default: Medio
  description: Level of Assurance (NIST/eIDAS)
- name: integrado_broker_id
  type: Boolean
  default: false
  description: ¿Integrado al Broker de Identidad del Estado?
- name: endpoint_validacion
  type: String
  nullable: true
- name: estandar_tecnico
  type: String
  nullable: true
  description: Estandard usado (OIDC, SAML, X.509, TS 101 861)
- name: estado
  type: Enum[Activo, Suspendido, Revocado]
  default: Activo
invariants:
- id: INV-CONF-001
  name: firma_requiere_acreditacion
  rule: tipo = 'FirmaElectronica' AND nivel_confianza = 'Alto' → es_proveedor_acreditado
    = TRUE
  description: FEA requiere proveedor acreditado
id: ENT-TDE-SERVICIOCONFIANZA
urn: urn:goreos:entity:d_tde:ENT-TDE-SERVICIOCONFIANZA:1.0.0
name: Servicioconfianza
domain: D-TDE
