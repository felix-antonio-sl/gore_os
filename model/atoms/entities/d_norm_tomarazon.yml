_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_toma_razon
  type: String
  key: true
  description: Identificador único
- name: acto_id
  type: String
  fk: ENT-NORM-ACTO
  nullable: false
  description: Acto sometido a TDR
- name: numero_ingreso_cgr
  type: String
  nullable: true
  description: Número de ingreso en CGR
- name: fecha_envio
  type: Date
  nullable: false
  description: Fecha de envío a CGR
- name: fecha_resolucion
  type: Date
  nullable: true
  description: Fecha de pronunciamiento CGR
- name: dias_tramite
  type: Integer
  computed: true
  formula: fecha_resolucion - fecha_envio
  description: Días de tramitación
- name: resultado
  type: Enum[Pendiente, TomaRazon, CursaConAlcance, Representado, Desistido]
  default: Pendiente
  description: Resultado del trámite
- name: observaciones
  type: Text
  nullable: true
  description: Observaciones de CGR
- name: alcance
  type: Text
  nullable: true
  description: Alcance si cursa con alcance
- name: es_reingreso
  type: Boolean
  default: false
  description: ¿Es reingreso tras representación?
- name: toma_razon_anterior_id
  type: String
  fk: ENT-NORM-TOMA-RAZON
  nullable: true
  description: TDR anterior si es reingreso
invariants:
- id: INV-TDR-001
  name: representado_requiere_observaciones
  rule: 'resultado = ''Representado'' → observaciones IS NOT NULL

    '
  description: Representación requiere fundamento
  severity: warning
