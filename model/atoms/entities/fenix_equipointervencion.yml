_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_asignacion
  type: String
  key: true
  description: Identificador único de asignación
- name: intervencion_id
  type: String
  fk: ENT-FENIX-INTERVENCION
  nullable: false
  description: Intervención a la que pertenece
- name: funcionario_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Funcionario asignado
- name: rol
  type: Enum[Jefe, Analista, Juridico, Procesos, ReferenteTecnico, Apoyo]
  nullable: false
  description: Rol en la intervención
- name: area_especialidad
  type: Enum[D-FIN, D-EJEC, D-GOB, D-NORM, D-BACK, D-TDE, D-EVOL, D-SEG, D-PLAN, D-TERR,
    General]
  nullable: true
  description: Dominio de especialidad
- name: horas_asignadas
  type: Integer
  default: 0
  description: Horas planificadas
- name: horas_efectivas
  type: Integer
  default: 0
  description: Horas reales trabajadas
- name: dedicacion_porcentual
  type: Integer
  nullable: true
  description: Porcentaje de dedicación (0-100)
- name: fecha_incorporacion
  type: Date
  nullable: false
  description: Fecha de incorporación al equipo
- name: fecha_desvinculacion
  type: Date
  nullable: true
  description: Fecha de salida del equipo
- name: activo
  type: Boolean
  default: true
  description: ¿Actualmente activo en el equipo?
- name: observaciones
  type: Text
  nullable: true
  description: Notas sobre el funcionario en la intervención
- name: es_subrogante
  type: Boolean
  default: false
  description: ¿Reemplaza a otro miembro del equipo?
- name: subroga_a_id
  type: String
  nullable: true
  description: ID del miembro original si es subrogante
- name: es_externo
  type: Boolean
  default: false
  description: ¿Es asesor/experto externo (no funcionario GORE)?
- name: nombre_externo
  type: String
  nullable: true
  description: Nombre completo si es externo
invariants:
- id: INV-EQ-001
  name: un_jefe_por_intervencion
  rule: 'COUNT(WHERE rol = ''Jefe'' AND intervencion_id = X AND activo = TRUE) = 1

    '
  description: Cada intervención tiene exactamente un jefe activo
  severity: error
- id: INV-EQ-002
  name: desvinculacion_post_incorporacion
  rule: fecha_desvinculacion IS NULL OR fecha_desvinculacion >= fecha_incorporacion
  description: Desvinculación no puede ser antes de incorporación
