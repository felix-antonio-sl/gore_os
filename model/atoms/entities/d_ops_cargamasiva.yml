_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_carga
  type: String
  key: true
- name: tipo
  type: String
  nullable: false
  description: Tipo de carga (IPR, Proyectos, Usuarios, etc.)
- name: archivo_nombre
  type: String
  nullable: false
- name: archivo_ubicacion
  type: String
  nullable: true
- name: checksum
  type: String
  nullable: false
  description: Hash del archivo para integridad
- name: total_filas
  type: Integer
  nullable: false
- name: filas_exitosas
  type: Integer
  default: 0
- name: filas_fallidas
  type: Integer
  default: 0
- name: estado
  type: Enum[Subido, Validando, ValidacionFallida, EnStaging, Promovido, Rollback]
  default: Subido
- name: errores
  type: Json
  nullable: true
  description: Detalle de errores por fila
- name: subido_por_id
  type: String
  fk: ENT-OPS-USUARIO-SISTEMA
  nullable: false
- name: fecha_subida
  type: DateTime
  nullable: false
- name: fecha_validacion
  type: DateTime
  nullable: true
- name: fecha_promocion
  type: DateTime
  nullable: true
invariants:
- id: INV-CARGA-001
  name: totales_consistentes
  rule: total_filas = filas_exitosas + filas_fallidas + filas_pendientes
  description: Los totales deben cuadrar
- id: INV-CARGA-002
  name: promovido_sin_errores
  rule: estado = 'Promovido' â†’ filas_fallidas = 0
  description: Solo se promociona si no hay errores
