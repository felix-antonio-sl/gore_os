_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_acuerdo
  type: String
  key: true
  description: Identificador único
- name: numero_acuerdo
  type: String
  nullable: false
  description: Número correlativo (ej. ACU-2024-123)
- name: sesion_id
  type: String
  fk: ENT-GOB-SESION-CORE
  nullable: false
  description: Sesión donde se adoptó
- name: fecha_acuerdo
  type: Date
  nullable: false
  description: Fecha del acuerdo
- name: tipo_materia
  type: Enum[FinanciamientoIPR, Presupuesto, Convenio, Normativa, Fiscalizacion, Otros]
  nullable: false
  description: Tipo de materia votada
- name: materia
  type: String
  nullable: false
  description: Descripción breve de la materia
- name: descripcion_detallada
  type: Text
  nullable: true
  description: Descripción completa
- name: votos_afavor
  type: Integer
  nullable: false
  description: Votos a favor
- name: votos_encontra
  type: Integer
  nullable: false
  description: Votos en contra
- name: abstenciones
  type: Integer
  default: 0
  description: Abstenciones
- name: voto_dirimente_usado
  type: Boolean
  default: false
  description: ¿GR usó voto dirimente?
- name: resultado
  type: Enum[Aprobado, Rechazado, Retirado]
  nullable: false
  description: Resultado de la votación
- name: requiere_quorum_especial
  type: Boolean
  default: false
  description: ¿Requiere 2/3 u otro quórum especial?
- name: quorum_requerido
  type: String
  nullable: true
  description: Descripción del quórum especial
- name: iprs_aprobadas
  type: Array[String]
  nullable: true
  description: IDs de IPRs aprobadas en este acuerdo
- name: monto_total_aprobado
  type: Decimal
  nullable: true
  description: Monto total MM$ si aplica
- name: convenios_autorizados
  type: Array[String]
  nullable: true
  description: IDs de convenios autorizados
- name: estado
  type: Enum[Votado, Certificado, Publicado, Ejecutado]
  default: Votado
  description: Estado del acuerdo
- name: certificado_id
  type: String
  fk: ENT-GOB-CERTIFICADO
  nullable: true
  description: Certificado emitido
invariants:
- id: INV-ACU-001
  name: aprobado_requiere_mayoria
  rule: 'resultado = ''Aprobado'' → votos_afavor > votos_encontra

    '
  description: Aprobación requiere mayoría
  severity: error
- id: INV-ACU-002
  name: dirimente_solo_empate
  rule: 'voto_dirimente_usado = true → votos_afavor = votos_encontra (pre-dirimente)

    '
  description: Voto dirimente solo en empate
  severity: warning
