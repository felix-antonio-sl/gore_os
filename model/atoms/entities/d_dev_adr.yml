_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_adr
  type: String
  key: true
- name: numero
  type: Integer
  nullable: false
  description: Número secuencial único
- name: titulo
  type: String
  nullable: false
- name: estado
  type: Enum[Proposed, Accepted, Deprecated, Superseded]
  default: Proposed
- name: contexto
  type: Text
  nullable: false
  description: ¿Qué problema estamos resolviendo?
- name: decision
  type: Text
  nullable: false
  description: ¿Qué decidimos hacer?
- name: consecuencias
  type: Text
  nullable: true
  description: ¿Qué trade-offs aceptamos?
- name: alternativas_consideradas
  type: Array[String]
  nullable: true
- name: autor_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
- name: fecha_propuesta
  type: Date
  nullable: false
- name: fecha_decision
  type: Date
  nullable: true
- name: superseded_by
  type: String
  fk: ENT-DEV-ADR
  nullable: true
  description: ADR que reemplaza esta decisión
invariants:
- id: INV-ADR-001
  name: numero_unico
  rule: UNIQUE(numero)
  description: Número de ADR debe ser único
- id: INV-ADR-002
  name: accepted_immutable
  rule: estado = 'Accepted' → decision IS IMMUTABLE
  description: ADR aceptado es inmutable
- id: INV-ADR-003
  name: superseded_has_replacement
  rule: estado = 'Superseded' → superseded_by IS NOT NULL
  description: ADR reemplazado debe referenciar su reemplazo
