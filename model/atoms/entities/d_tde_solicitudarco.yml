_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_solicitud
  type: String
  key: true
  description: Identificador único
- name: codigo
  type: String
  nullable: true
  description: 'Código interno (ej: ARCO-2025-001)'
- name: rut_titular
  type: String
  nullable: false
  description: RUT del titular de los datos
- name: nombre_titular
  type: String
  nullable: false
  description: Nombre completo del titular
- name: email_titular
  type: String
  nullable: false
  description: Email para notificaciones
- name: telefono_titular
  type: String
  nullable: true
- name: es_representante
  type: Boolean
  default: false
  description: ¿Solicitud por representante?
- name: nombre_representante
  type: String
  nullable: true
- name: rut_representante
  type: String
  nullable: true
- name: tipo_derecho
  type: Enum[Acceso, Rectificacion, Cancelacion, Oposicion]
  nullable: false
  description: Derecho ARCO solicitado
- name: descripcion
  type: Text
  nullable: false
  description: Descripción de la solicitud
- name: datos_afectados
  type: Array[String]
  nullable: true
  description: Datos específicos involucrados
- name: fundamento
  type: Text
  nullable: true
  description: Fundamento legal o motivo
- name: estado
  type: Enum[Recibida, EnEvaluacion, Aceptada, RechazadaParcial, Rechazada, Ejecutada,
    Cerrada]
  default: Recibida
  description: Estado de la solicitud
- name: motivo_rechazo
  type: Text
  nullable: true
  description: Motivo si fue rechazada
- name: fecha_ingreso
  type: Date
  nullable: false
  description: Fecha de ingreso
- name: fecha_limite
  type: Date
  computed: true
  formula: fecha_ingreso + 15 DIAS_HABILES
  description: Fecha límite de respuesta (15 días hábiles)
- name: fecha_respuesta
  type: Date
  nullable: true
  description: Fecha de respuesta efectiva
- name: dias_transcurridos
  type: Integer
  computed: true
- name: dentro_plazo
  type: Boolean
  computed: true
  formula: fecha_respuesta <= fecha_limite OR fecha_respuesta IS NULL
- name: prorroga_solicitada
  type: Boolean
  default: false
  description: ¿Se solicitó prórroga?
- name: fecha_limite_prorrogada
  type: Date
  nullable: true
- name: bloqueo_temporal_solicitado
  type: Boolean
  default: false
  description: ¿Titular solicitó bloqueo temporal mientras se resuelve?
- name: bloqueo_temporal_vigente
  type: Boolean
  default: false
  description: ¿Bloqueo temporal activo? Responsable tiene 2 días para responder
- name: dpo_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: DPO responsable
- name: unidad_tratamiento_id
  type: String
  fk: ENT-BACK-DIVISION
  nullable: true
  description: Unidad que tiene los datos
- name: resolucion
  type: Text
  nullable: true
  description: Resolución de la solicitud
- name: acto_administrativo_id
  type: String
  fk: ENT-NORM-ACTO
  nullable: true
  description: Acto administrativo de respuesta
- name: reportado_apd
  type: Boolean
  default: false
  description: ¿Reportado a Agencia Protección Datos?
invariants:
- id: INV-ARCO-001
  name: respuesta_en_plazo
  rule: estado NOT IN ('Recibida', 'EnEvaluacion') → fecha_respuesta IS NOT NULL
  description: Solicitud resuelta debe tener fecha respuesta
- id: INV-ARCO-002
  name: rechazo_requiere_motivo
  rule: estado IN ('Rechazada', 'RechazadaParcial') → motivo_rechazo IS NOT NULL
  description: Rechazo debe tener motivo
