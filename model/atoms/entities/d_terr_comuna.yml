_meta:
  urn: urn:goreos:entity:d_terr:ENT-TERR-COMUNA:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_comuna
  type: String
  key: true
  description: Identificador único (código INE)
- name: codigo_ine
  type: String
  nullable: false
  description: Código de corte único territorial (CUT) - 5 dígitos
- name: nombre
  type: String
  nullable: false
  description: Nombre oficial de la comuna
- name: provincia_id
  type: String
  fk: ENT-TERR-PROVINCIA
  nullable: false
  description: Provincia a la que pertenece
- name: poblacion
  type: Integer
  nullable: true
  description: Población según último censo
- name: poblacion_urbana
  type: Integer
  nullable: true
  description: Población zona urbana
- name: poblacion_rural
  type: Integer
  nullable: true
  description: Población zona rural
- name: año_censo
  type: Integer
  default: 2017
  description: Año del dato poblacional
- name: superficie_km2
  type: Decimal
  nullable: true
  description: Superficie en kilómetros cuadrados
- name: densidad_hab_km2
  type: Decimal
  computed: true
  formula: poblacion / superficie_km2
  description: Densidad poblacional
- name: tipo
  type: Enum[Urbana, Rural, Mixta]
  nullable: true
  description: Clasificación urbano-rural
- name: categoria_subdere
  type: String
  nullable: true
  description: Categoría SUBDERE (A1, A2, B1, etc.)
- name: alcalde_nombre
  type: String
  nullable: true
  description: Nombre del alcalde actual
- name: municipio_email
  type: String
  nullable: true
  description: Email de contacto municipal
- name: total_iprs_historicas
  type: Integer
  default: 0
  description: Cantidad de IPRs ejecutadas
- name: monto_inversion_acumulado
  type: Decimal
  default: 0
  description: Inversión GORE acumulada en M$
- name: latitud
  type: Decimal
  nullable: true
  description: Latitud de la cabecera comunal
- name: longitud
  type: Decimal
  nullable: true
  description: Longitud de la cabecera comunal
invariants:
- id: INV-COM-001
  name: codigo_ine_valido
  rule: LENGTH(codigo_ine) = 5
  description: El código INE debe tener 5 dígitos
  severity: error
id: ENT-TERR-COMUNA
urn: urn:goreos:entity:d_terr:ENT-TERR-COMUNA:1.0.0
name: Comuna
domain: D-TERR
