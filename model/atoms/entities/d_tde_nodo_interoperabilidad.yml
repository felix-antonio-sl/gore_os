_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_nodo
  type: String
  key: true
- name: entidad_id
  type: String
  fk: ENT-TDE-ENTIDAD-REGIONAL
  nullable: false
- name: tipo
  type: Enum[Desarrollo, Produccion]
  nullable: false
- name: estado
  type: Enum[Solicitado, Habilitado, Activo, Suspendido, Inactivo]
  default: Solicitado
- name: fecha_solicitud
  type: Date
  nullable: false
- name: fecha_habilitacion
  type: Date
  nullable: true
- name: endpoint_base
  type: String
  nullable: true
  description: URL base del nodo
- name: version_nodo
  type: String
  nullable: true
  description: Versión del software del nodo
- name: servicios_publicados_count
  type: Integer
  default: 0
  description: Número de servicios que provee
- name: servicios_consumidos_count
  type: Integer
  default: 0
  description: Número de servicios que consume
- name: transacciones_ultimo_mes
  type: Integer
  default: 0
  description: Transacciones procesadas en últimos 30 días
- name: admin_tecnico_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
  description: Funcionario técnico responsable del nodo
- name: admin_negocio_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
  description: Funcionario de negocio responsable
invariants:
- id: INV-NODO-001
  name: produccion_requiere_habilitacion
  rule: tipo = 'Produccion' AND estado = 'Activo' → fecha_habilitacion IS NOT NULL
  description: Nodos de producción activos requieren fecha de habilitación
- id: INV-NODO-002
  name: endpoint_requerido_si_activo
  rule: estado = 'Activo' → endpoint_base IS NOT NULL
  description: Nodos activos requieren endpoint configurado
