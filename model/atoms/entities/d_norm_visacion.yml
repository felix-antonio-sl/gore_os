_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_visacion
  type: String
  key: true
  description: Identificador único
- name: acto_id
  type: String
  fk: ENT-NORM-ACTO
  nullable: false
  description: Acto visado
- name: visador_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Funcionario visador
- name: rol_visador
  type: Enum[AreaRequirente, Juridica, Control, DAF, Administrador, JefeDivision,
    Otro]
  nullable: false
  description: Rol en la cadena
- name: orden_cadena
  type: Integer
  nullable: false
  description: Orden en la cadena de visación
- name: fecha_visacion
  type: DateTime
  nullable: true
  description: Fecha/hora de visación
- name: resultado
  type: Enum[Pendiente, Aprobado, Observado, Rechazado]
  default: Pendiente
  description: Resultado de la visación
- name: observaciones
  type: Text
  nullable: true
  description: Observaciones del visador
- name: doc_digital_step_id
  type: String
  nullable: true
  description: ID del paso en DocDigital
invariants:
- id: INV-VIS-001
  name: aprobado_requiere_fecha
  rule: 'resultado = ''Aprobado'' → fecha_visacion IS NOT NULL

    '
  description: Visación aprobada requiere fecha
  severity: error
