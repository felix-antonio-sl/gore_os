# ==============================================================================
# GORE_OS Entity Atom: Sistema
# ==============================================================================
# Domain: D-EVOL (Evolución e Inteligencia)
# Subdomain: Arquitectura Organizacional (M10)
# Source: ORKO TF1_Capacity
# ==============================================================================

_metadata:
  version: "1.0.0"
  status: active
  created_at: "2025-12-22"
  created_by: "Arquitecto Categórico + Arquitecto ORKO"
  domain: D-EVOL
  subdomain: arquitectura_organizacional
  kb_source:
    - "urn:knowledge:orko:core:tejidos:1.0.0"
    - "dialogo_triagente_d_evol.md"

entity:
  id: ENT-EVOL-SISTEMA
  name: Sistema
  name_es: Sistema Institucional
  description: |
    Aplicación o sistema de información en el portafolio institucional.
    Parte del Inventario Maestro (M10 AO) y sujeto a evolución L0-L5.

    Incluye: GORE OS, SITIA, SIGFE, DocDigital, SISREC, sistemas legacy.

  purpose: |
    Modelar sistemas para:
    - Catálogo de aplicaciones institucional
    - Trazabilidad de dependencias proceso-sistema
    - Planificación de evolución tecnológica
    - Análisis de impacto ante cambios

  categorical_type: Object
  is_abstract: false
  category: Infrastructure
  orko_fabric: TF1_Capacity

attributes:
  # Identificación
  - name: id_sistema
    type: String
    key: true

  - name: nombre
    type: String
    nullable: false

  - name: descripcion
    type: Text
    nullable: true

  # Clasificación
  - name: tipo
    type: Enum[Core, Soporte, Externo, Legacy]
    nullable: false
    description: "Core=crítico, Soporte=habilitador, Externo=terceros, Legacy=obsoleto"

  # Madurez
  - name: ciclo_vida
    type: Enum[L0_Inicial, L1_Digitalizado, L2_Integrado, L3_Automatizado, L4_Inteligente, L5_Autonomo]
    nullable: false
    default: L0_Inicial

  # Ownership
  - name: propietario_id
    type: String
    fk: ENT-BACK-DIVISION
    nullable: false

  - name: contacto_tecnico_id
    type: String
    fk: ENT-BACK-FUNCIONARIO
    nullable: true

  # Dominio
  - name: dominio_id
    type: String
    nullable: true
    description: "D-FIN, D-PLAN, D-EJEC, etc."

  # Criticidad
  - name: criticidad
    type: Enum[Alta, Media, Baja]
    default: Media

  # URLs
  - name: url_produccion
    type: String
    nullable: true

  - name: url_documentacion
    type: String
    nullable: true

  # Estado Operativo
  - name: estado
    type: Enum[Desarrollo, Produccion, Mantenimiento, Deprecado, Retirado]
    default: Produccion

  # Métricas
  - name: usuarios_activos
    type: Integer
    nullable: true

  - name: disponibilidad_sla
    type: Decimal
    nullable: true
    description: "SLA de disponibilidad (ej: 99.5)"

morphisms:
  pertenece_a: [ENT-BACK-DIVISION]
  integrado_con: [ENT-EVOL-INTEGRACION]
  tiene_madurez: [ENT-EVOL-NIVEL-MADUREZ]
  tiene_deuda: [ENT-EVOL-DEUDA-TECNICA]

audit:
  fields_tracked:
    - estado
    - ciclo_vida
    - criticidad
  retention_years: 10
  legal_basis: "Inventario Maestro ORKO, Estrategia TI"
