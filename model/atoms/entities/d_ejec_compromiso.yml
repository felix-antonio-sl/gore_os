_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_compromiso
  type: String
  key: true
  description: Identificador único
- name: descripcion
  type: Text
  nullable: false
  description: Qué se prometió hacer
- name: origen
  type: Enum[SesionCORE, VisitaTerreno, ReunionLobby, Gabinete, SolicitudCiudadana,
    Otro]
  nullable: false
  description: Contexto donde nace el compromiso
- name: prioridad
  type: Enum[Baja, Media, Alta, Critica]
  default: Media
  description: Urgencia política/técnica
- name: fecha_creacion
  type: Date
  default: now()
  description: Cuándo se adquirió
- name: fecha_limite
  type: Date
  nullable: true
  description: Deadline para el cumplimiento
- name: responsable_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: false
  description: Funcionario a cargo de resolverlo
- name: ipr_id
  type: String
  fk: ENT-FIN-IPR
  nullable: true
  description: IPR relacionado (opcional)
- name: comuna_id
  type: String
  fk: ENT-TERR-COMUNA
  nullable: true
  description: Territorio afectado
- name: estado
  type: Enum[Pendiente, EnProgreso, Bloqueado, Completado, Desestimado, Vencido]
  default: Pendiente
  description: Estado de avance
- name: evidencia_cierre
  type: String
  nullable: true
  description: URL o referencia al documento/foto que prueba el cierre
invariants:
- id: INV-COM-001
  name: cierre_requiere_evidencia
  rule: '(estado = ''Completado'') → (evidencia_cierre IS NOT NULL)

    '
  description: No se puede cerrar un compromiso sin prueba
  severity: warning
