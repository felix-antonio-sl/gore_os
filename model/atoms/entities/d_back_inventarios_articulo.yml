_meta:
  urn: urn:goreos:entity:d-back:articulo-inventario:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
id: ENT-BACK-ARTICULO_INVENTARIO
urn: urn:goreos:entity:d-back:articulo-inventario:1.0.0
name: Artículo de Inventario
domain: D-BACK
subdomain: inventarios
category: Master
is_abstract: false
attributes:
- name: id_articulo
  type: String
  key: true
- name: codigo_interno
  type: String
  nullable: false
  unique: true
- name: codigo_barras
  type: String
  nullable: true
  description: EAN-13 o Code-128
- name: nombre
  type: String
  nullable: false
- name: descripcion
  type: Text
  nullable: true
- name: familia
  type: String
  nullable: false
  description: Ej. Insumos de Oficina
- name: linea
  type: String
  nullable: true
  description: Ej. Papelería
- name: grupo
  type: String
  nullable: true
  description: Ej. Cuadernos
- name: unidad_medida
  type: Enum[Unidad, Caja, Resma, Litro, Kilo, Metro, Pack]
  nullable: false
- name: factor_conversion
  type: Decimal
  nullable: true
  description: Ej. 1 caja = 12 unidades
- name: cuenta_contable
  type: String
  nullable: true
- name: subtitulo_presupuestario
  type: String
  default: '22'
  description: Subtítulo 22 para consumibles
- name: stock_actual
  type: Decimal
  default: 0
- name: stock_minimo
  type: Decimal
  nullable: true
  description: Punto de reorden
- name: stock_maximo
  type: Decimal
  nullable: true
- name: stock_seguridad
  type: Decimal
  nullable: true
- name: precio_promedio
  type: Decimal
  nullable: true
  description: Precio Promedio Ponderado (PPP)
- name: valor_stock
  type: Decimal
  computed: true
  formula: stock_actual * precio_promedio
- name: requiere_lote
  type: Boolean
  default: false
- name: requiere_vencimiento
  type: Boolean
  default: false
- name: estado
  type: Enum[Activo, Descontinuado, Bloqueado]
  default: Activo
- name: imagen_url
  type: String
  nullable: true
invariants:
- name: stock_no_negativo
  rule: stock_actual >= 0
- name: capitalizacion_3utm
  rule: IF precio_promedio > 3 UTM THEN tipo = ActivoFijo
