_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_consulta
  type: String
  key: true
  description: Identificador único
- name: titulo
  type: String
  nullable: false
  description: Título de la consulta
- name: descripcion
  type: Text
  nullable: false
  description: Descripción y objetivo
- name: tipo
  type: Enum[Vinculante, Consultiva, Informativa]
  default: Consultiva
  description: Tipo de consulta
- name: materia
  type: Enum[PlanRegional, Presupuesto, Proyecto, Politica, Otro]
  nullable: false
  description: Materia consultada
- name: fecha_inicio
  type: Date
  nullable: false
  description: Inicio del período de participación
- name: fecha_fin
  type: Date
  nullable: false
  description: Fin del período
- name: modalidad
  type: Enum[Presencial, Digital, Mixta]
  default: Digital
  description: Modalidad de participación
- name: plataforma_url
  type: String
  nullable: true
  description: URL de la plataforma digital
- name: participantes_count
  type: Integer
  default: 0
  description: Total de participantes
- name: respuestas_count
  type: Integer
  default: 0
  description: Total de respuestas/aportes
- name: informe_resultados_url
  type: String
  nullable: true
  description: URL al informe de resultados
- name: resumen_resultados
  type: Text
  nullable: true
  description: Resumen de principales hallazgos
- name: decision_adoptada
  type: Text
  nullable: true
  description: Decisión tomada en base a la consulta
- name: estado
  type: Enum[EnPreparacion, Abierta, Cerrada, EnAnalisis, Finalizada]
  default: EnPreparacion
  description: Estado de la consulta
invariants:
- id: INV-CONSULTA-001
  name: periodo_coherente
  rule: fecha_fin >= fecha_inicio
  description: Fechas coherentes
  severity: error
- id: INV-CONSULTA-002
  name: finalizada_requiere_informe
  rule: 'estado = ''Finalizada'' → informe_resultados_url IS NOT NULL

    '
  description: Consulta finalizada requiere informe
  severity: warning
