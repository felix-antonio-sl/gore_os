_meta:
  urn: urn:goreos:entity:unknown:unknown:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_entidad
  type: String
  key: true
  description: Identificador único
- name: codigo
  type: String
  nullable: true
  description: 'Código oficial (ej: MUN-16101)'
- name: nombre
  type: String
  nullable: false
  description: Nombre de la entidad
- name: tipo
  type: Enum[Municipalidad, ServicioPublico, CorporacionMunicipal, Otro]
  nullable: false
- name: comuna_id
  type: String
  fk: ENT-TERR-COMUNA
  nullable: true
  description: Comuna si es municipio
- name: rut
  type: String
  nullable: true
  description: RUT de la entidad
- name: encargado_tde_nombre
  type: String
  nullable: true
  description: Nombre del encargado TDE
- name: encargado_tde_email
  type: String
  nullable: true
- name: encargado_tde_telefono
  type: String
  nullable: true
- name: nivel_madurez_tde
  type: Integer
  nullable: true
  description: Nivel de madurez TDE agregado (1-5)
- name: fecha_ultimo_diagnostico
  type: Date
  nullable: true
- name: participante_mesa_tde
  type: Boolean
  default: false
  description: ¿Participa en Mesa Regional TDE?
- name: fecha_incorporacion_mesa
  type: Date
  nullable: true
- name: encargado_datos_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
  description: Encargado de Datos (Estrategia Datos)
- name: encargado_ciberseguridad_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
  description: Encargado Ciberseguridad/CSIRT
- name: encargado_transformacion_id
  type: String
  fk: ENT-BACK-FUNCIONARIO
  nullable: true
  description: Coordinador Transformación Digital (Ley 21.180)
- name: convenio_firma_federada
  type: Boolean
  default: false
  description: ¿Tiene convenio de firma federada?
- name: convenio_claveunica
  type: Boolean
  default: false
- name: convenio_simple
  type: Boolean
  default: false
- name: kit_digital_implementado
  type: Boolean
  default: false
- name: fecha_kit_digital
  type: Date
  nullable: true
- name: modulos_kit
  type: Array[String]
  nullable: true
  description: Módulos del kit implementados
- name: zona_rezagada
  type: Boolean
  default: false
  description: ¿Es zona rezagada (prioridad)?
- name: estado
  type: Enum[Activo, Inactivo, EnDiagnostico]
  default: Activo
invariants:
- id: INV-ENT-001
  name: municipio_requiere_comuna
  rule: tipo = 'Municipalidad' → comuna_id IS NOT NULL
  description: Municipio debe tener comuna asociada
