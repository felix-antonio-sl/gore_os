_meta:
  urn: urn:goreos:entity:d_dev:ENT-DEV-ARTEFACTOBUILD:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:1.0.0
category: Master
is_abstract: false
attributes:
- name: id_artefacto
  type: String
  key: true
- name: tipo
  type: Enum[DockerImage, NpmPackage, Binary, Bundle, Archive]
  nullable: false
- name: nombre
  type: String
  nullable: false
  description: 'Ej: goreos-api, goreos-webapp'
- name: version
  type: String
  nullable: false
  description: SemVer o hash de commit
- name: tag
  type: String
  nullable: true
  description: Tag de imagen/paquete
- name: pipeline_id
  type: String
  fk: ENT-DEV-PIPELINE
  nullable: false
- name: commit_sha
  type: String
  nullable: false
- name: checksum
  type: String
  nullable: false
  description: SHA256 para verificar integridad
- name: tama√±o_bytes
  type: BigInteger
  nullable: true
- name: ubicacion
  type: String
  nullable: false
  description: URL o path del artefacto
- name: fecha_creacion
  type: DateTime
  nullable: false
- name: expiracion
  type: DateTime
  nullable: true
  description: Para artefactos temporales
invariants:
- id: INV-ARTE-001
  name: checksum_presente
  rule: checksum IS NOT NULL
  description: Todo artefacto debe tener checksum
- id: INV-ARTE-002
  name: version_formato
  rule: version MATCHES '^[0-9]+\\.[0-9]+\\.[0-9]+' OR version MATCHES '^[a-f0-9]{7,40}$'
  description: Version debe ser SemVer o commit hash
id: ENT-DEV-ARTEFACTOBUILD
urn: urn:goreos:entity:d_dev:ENT-DEV-ARTEFACTOBUILD:1.0.0
name: Artefactobuild
domain: D-DEV
