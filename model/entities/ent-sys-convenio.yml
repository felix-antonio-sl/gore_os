---
_meta:
  urn: urn:goreos:entity:nucleus:convenio:1.0.0
  type: Entity
  schema: urn:goreos:schema:entity:2.0.0
id: ENT-SYS-CONVENIO
name: Convenio
domain: D-SYS
category: Master
is_abstract: true
description: |
  Acuerdo general de cooperación entre partes (típicamente públicas).
  Superclase abstracta que define la estructura común de todo convenio.
  Subtipos especializan según naturaleza: programación, marco, ejecución, etc.
attributes:
  - { name: id_convenio, type: UUID, key: true }
  - {
      name: codigo,
      type: String,
      description: "Identificador único del convenio",
    }
  - { name: nombre, type: String }
  - { name: descripcion, type: Text, nullable: true }
  - {
      name: partes,
      type: JSON,
      description: "Array de partes firmantes [{rut, nombre, tipo}]",
    }
  - { name: fecha_firma, type: Date }
  - { name: fecha_vigencia_inicio, type: Date }
  - { name: fecha_vigencia_termino, type: Date, nullable: true }
  - {
      name: estado,
      type: String,
      description: "BORRADOR|VIGENTE|TERMINADO|RESCILIADO",
    }
  - { name: documento_id, type: UUID, fk: ENT-SYS-DOCUMENTO, nullable: true }
