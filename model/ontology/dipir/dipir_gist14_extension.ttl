@prefix dipir: <urn:gorenuble:ontology:dipir:> .
@prefix gist: <https://w3id.org/semanticarts/ns/ontology/gist/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<urn:gorenuble:ontology:dipir>
	a owl:Ontology ;
	owl:imports <https://w3id.org/semanticarts/ontology/gistCore14.0.0> ;
	owl:versionIRI <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "DIPIR (GORE Ñuble) — extensión basada en gist 14"^^xsd:string ;
	skos:definition "Extensión ontológica minimalista para representar la SSOT de procesos DIPIR (orquestación, variantes, plantillas, nodos y conexiones) alineada a los principios de gist 14 (Categories vs Classes, y reuso de primitivas gist)."^^xsd:string ;
	.

#################################################################
# Core Process Modeling (schema)
#################################################################

dipir:ProcessModel
	a owl:Class ;
	rdfs:subClassOf gist:TaskTemplate ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Process Model"^^xsd:string ;
	skos:definition "Especificación (TaskTemplate) de un proceso o fragmento de proceso DIPIR, tal como se declara en la SSOT (variantes, plantillas core u orquestación)."^^xsd:string ;
	.

dipir:ProcessVariant
	a owl:Class ;
	rdfs:subClassOf dipir:ProcessModel ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Process Variant"^^xsd:string ;
	skos:definition "Modelo de proceso (ProcessModel) que representa una variante DIPIR completa (p.ej., subt_24, subt_29, estados_pago)."^^xsd:string ;
	.

dipir:ProcessFragment
	a owl:Class ;
	rdfs:subClassOf dipir:ProcessModel ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Process Fragment"^^xsd:string ;
	skos:definition "Modelo de proceso (ProcessModel) reutilizable como parte de una variante (p.ej., phase_* , template_* , cascade_*)."^^xsd:string ;
	.

dipir:OrchestrationModel
	a owl:Class ;
	rdfs:subClassOf dipir:ProcessModel ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Orchestration Model"^^xsd:string ;
	skos:definition "Modelo de proceso (ProcessModel) que enruta o compone variantes según condiciones (gateway de entrada y subprocesos invocados)."^^xsd:string ;
	.

dipir:FlowSection
	a owl:Class ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Flow Section"^^xsd:string ;
	skos:definition "Agrupación de pasos dentro de un ProcessModel (p.ej., 'Fase I', 'Sección 3', 'II')."^^xsd:string ;
	.

dipir:FlowNodeTemplate
	a owl:Class ;
	rdfs:subClassOf gist:Template ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Flow Node Template"^^xsd:string ;
	skos:definition "Especificación de un nodo (paso) en un flujo DIPIR: tarea, evento, gateway, junction o subprocess (START_EVENT, TASK, EXCLUSIVE_GATEWAY, etc.)."^^xsd:string ;
	.

dipir:FlowConnection
	a owl:Class ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Flow Connection"^^xsd:string ;
	skos:definition "Conexión dirigida entre dos FlowNodeTemplate dentro de un ProcessModel, opcionalmente condicionada (p.ej., 'Sí/No')."^^xsd:string ;
	.

#################################################################
# Categories (reference-data classes)
#################################################################

dipir:ActorRole
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Actor Role"^^xsd:string ;
	skos:definition "Rol/actor operativo tal como aparece en la SSOT (p.ej., ANALISTA_DIPIR, CT_GORE, DIPRES)."^^xsd:string ;
	.

dipir:FlowNodeType
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Flow Node Type"^^xsd:string ;
	skos:definition "Tipo de nodo según el DSL de flujos DIPIR (TASK, START_EVENT, EXCLUSIVE_GATEWAY, etc.)."^^xsd:string ;
	.

dipir:FlowConnectionType
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Flow Connection Type"^^xsd:string ;
	skos:definition "Tipo de conexión según el DSL de flujos DIPIR (sequence, message_throw, message_catch)."^^xsd:string ;
	.

dipir:ResolutionType
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Resolution Type"^^xsd:string ;
	skos:definition "Tipo de resolución administrativa (EXENTA, AFECTA, CONDICIONAL) usada para caracterizar una variante."^^xsd:string ;
	.

dipir:BudgetSubtitle
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Budget Subtitle"^^xsd:string ;
	skos:definition "Subtítulo presupuestario (p.ej., 24, 29, 31, 33) usado para clasificar iniciativas y variantes."^^xsd:string ;
	.

dipir:ProcessState
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Process State"^^xsd:string ;
	skos:definition "Etiqueta de estado/fase funcional usada en secciones (state_name) dentro de una variante."^^xsd:string ;
	.

dipir:TramitationType
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Tramitation Type"^^xsd:string ;
	skos:definition "Modalidad de tramitación usada para pasos o plantillas (p.ej., DOC_DIGITAL)."^^xsd:string ;
	.

dipir:BoundaryBox
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Boundary Box"^^xsd:string ;
	skos:definition "Agrupador visual/operativo de secciones (p.ej., DOC_DIGITAL_BOX_1..4) definido en la SSOT."^^xsd:string ;
	.

dipir:VisualizationStyle
	a owl:Class ;
	rdfs:subClassOf gist:Category ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "Visualization Style"^^xsd:string ;
	skos:definition "Clave de estilo visual usada en nodos y/o actores (p.ej., gateway, taskAnalista, visacion)."^^xsd:string ;
	.

#################################################################
# Object Properties
#################################################################

dipir:fromNode
	a owl:ObjectProperty ;
	rdfs:domain dipir:FlowConnection ;
	rdfs:range gist:Template ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "from node"^^xsd:string ;
	skos:definition "Relates a FlowConnection to its origin template (a flow node template or a referenced process model treated as a template)."^^xsd:string ;
	.

dipir:toNode
	a owl:ObjectProperty ;
	rdfs:domain dipir:FlowConnection ;
	rdfs:range gist:Template ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "to node"^^xsd:string ;
	skos:definition "Relates a FlowConnection to its destination template (a flow node template or a referenced process model treated as a template)."^^xsd:string ;
	.

dipir:hasActorRole
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:hasParticipant ;
	rdfs:range dipir:ActorRole ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has actor role"^^xsd:string ;
	skos:definition "Relates a DIPIR process model or flow node to an ActorRole involved (as declared in SSOT)."^^xsd:string ;
	gist:domainIncludes
		dipir:FlowNodeTemplate ,
		dipir:ProcessModel
		;
	.

dipir:hasNodeType
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:FlowNodeType ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has node type"^^xsd:string ;
	skos:definition "Categorizes a FlowNodeTemplate by its node type (TASK, START_EVENT, EXCLUSIVE_GATEWAY, etc.)."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:hasConnectionType
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:FlowConnectionType ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has connection type"^^xsd:string ;
	skos:definition "Categorizes a FlowConnection by its connection type (sequence, message_throw, message_catch)."^^xsd:string ;
	gist:domainIncludes dipir:FlowConnection ;
	.

dipir:hasResolutionType
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:ResolutionType ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has resolution type"^^xsd:string ;
	skos:definition "Categorizes a ProcessVariant by its resolution type (EXENTA, AFECTA, CONDICIONAL)."^^xsd:string ;
	gist:domainIncludes dipir:ProcessVariant ;
	.

dipir:hasBudgetSubtitle
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:BudgetSubtitle ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has budget subtitle"^^xsd:string ;
	skos:definition "Categorizes a ProcessVariant by its budget subtitle (24, 29, 31, 33)."^^xsd:string ;
	gist:domainIncludes dipir:ProcessVariant ;
	.

dipir:hasProcessState
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:ProcessState ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has process state"^^xsd:string ;
	skos:definition "Categorizes a FlowSection by its state_name label in SSOT."^^xsd:string ;
	gist:domainIncludes dipir:FlowSection ;
	.

dipir:hasTramitationType
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:TramitationType ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has tramitation type"^^xsd:string ;
	skos:definition "Categorizes a FlowNodeTemplate or ProcessFragment by its tramitation type (e.g., DOC_DIGITAL)."^^xsd:string ;
	gist:domainIncludes
		dipir:FlowNodeTemplate ,
		dipir:ProcessFragment
		;
	.

dipir:hasBoundaryBox
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:BoundaryBox ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has boundary box"^^xsd:string ;
	skos:definition "Categorizes a FlowSection by its boundary_box label in SSOT."^^xsd:string ;
	gist:domainIncludes dipir:FlowSection ;
	.

dipir:hasVisualizationStyle
	a owl:ObjectProperty ;
	rdfs:subPropertyOf gist:isCategorizedBy ;
	rdfs:range dipir:VisualizationStyle ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has visualization style"^^xsd:string ;
	skos:definition "Categorizes a FlowNodeTemplate or ActorRole by its visualization style key in SSOT."^^xsd:string ;
	gist:domainIncludes
		dipir:ActorRole ,
		dipir:FlowNodeTemplate
		;
	.

#################################################################
# Datatype Properties
#################################################################

dipir:stepCode
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "step code"^^xsd:string ;
	skos:definition "Código de paso usado en la SSOT (p.ej., 'II.1', '5.4a')."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:conditionText
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "condition text"^^xsd:string ;
	skos:definition "Texto de condición usado para enrutar una FlowConnection (p.ej., 'Sí', 'No', '< 7000 UTM')."^^xsd:string ;
	gist:domainIncludes dipir:FlowConnection ;
	.

dipir:variantKey
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "variant key"^^xsd:string ;
	skos:definition "Clave técnica de variante en el documento SSOT (p.ej., 'subt_24')."^^xsd:string ;
	gist:domainIncludes dipir:ProcessVariant ;
	.

dipir:sourceFile
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "source file"^^xsd:string ;
	skos:definition "Archivo de origen (original_file) desde el cual fue consolidada una variante o plantilla."^^xsd:string ;
	gist:domainIncludes
		dipir:ProcessModel ,
		dipir:ProcessVariant ,
		dipir:ProcessFragment
		;
	.

dipir:requiresCgr
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "requires CGR"^^xsd:string ;
	skos:definition "Indica si la variante requiere intervención/trámite con CGR."^^xsd:string ;
	gist:domainIncludes dipir:ProcessVariant ;
	.

dipir:requiresDipres
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "requires DIPRES"^^xsd:string ;
	skos:definition "Indica si la variante requiere intervención/trámite con DIPRES."^^xsd:string ;
	gist:domainIncludes dipir:ProcessVariant ;
	.

dipir:hasPagare
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "has pagare"^^xsd:string ;
	skos:definition "Indica si la variante considera pagaré como artefacto/requisito."^^xsd:string ;
	gist:domainIncludes dipir:ProcessVariant ;
	.

dipir:isInternal
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "is internal"^^xsd:string ;
	skos:definition "Marca booleana para distinguir actores/plataformas internas vs externas según SSOT."^^xsd:string ;
	gist:domainIncludes dipir:ActorRole ;
	.

dipir:emoji
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "emoji"^^xsd:string ;
	skos:definition "Emoji usado en la SSOT para visualización (si aplica)."^^xsd:string ;
	gist:domainIncludes dipir:ActorRole ;
	.

dipir:cascadePosition
	a owl:DatatypeProperty ;
	rdfs:range xsd:integer ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "cascade position"^^xsd:string ;
	skos:definition "Posición ordinal en una cascada de visación (si aplica)."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:isFinalApproval
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "is final approval"^^xsd:string ;
	skos:definition "Marca si un paso corresponde a la aprobación final de una cascada."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:isTermination
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "is termination"^^xsd:string ;
	skos:definition "Marca si un paso termina el flujo (termination=true en SSOT)."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:isExternalActor
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "is external actor"^^xsd:string ;
	skos:definition "Marca si un paso es ejecutado por actor externo según SSOT (external_actor=true)."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:eventType
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "event type"^^xsd:string ;
	skos:definition "Campo event_type para nodos de tipo evento (p.ej., MESSAGE_EVENT) en SSOT."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.

dipir:isLoop
	a owl:DatatypeProperty ;
	rdfs:range xsd:boolean ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "is loop"^^xsd:string ;
	skos:definition "Indica si un fragmento o paso corresponde a un ciclo (is_loop=true en SSOT)."^^xsd:string ;
	gist:domainIncludes
		dipir:FlowNodeTemplate ,
		dipir:ProcessFragment
		;
	.

dipir:notes
	a owl:DatatypeProperty ;
	rdfs:range xsd:string ;
	rdfs:isDefinedBy <urn:gorenuble:ontology:dipir:1.0.0> ;
	skos:prefLabel "notes"^^xsd:string ;
	skos:definition "Notas de apoyo asociadas a un nodo, tal como aparecen en SSOT."^^xsd:string ;
	gist:domainIncludes dipir:FlowNodeTemplate ;
	.
