# =============================================================================
# GORE_OS Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill with real values
# NEVER commit .env to git (already in .gitignore)
#
# Quick start:
#   cp .env.example .env
#   nano .env  # Edit with real values
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (PRIORITARIO - PostgreSQL)
# -----------------------------------------------------------------------------
DB_NAME=goreos
DB_USER=goreos
DB_PASSWORD=CHANGE_THIS_IN_PRODUCTION
DB_HOST=localhost
DB_PORT=5432

# Connection string (auto-constructed from above, or override)
# DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# -----------------------------------------------------------------------------
# Flask Configuration (futuro - aplicación productiva)
# -----------------------------------------------------------------------------
# Generate secret key with: python -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=GENERATE_WITH_python_-c_"import_secrets;_print(secrets.token_hex(32))"
FLASK_ENV=development
FLASK_DEBUG=True

# Session configuration
SESSION_TYPE=redis
SESSION_REDIS_HOST=localhost
SESSION_REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Streamlit Configuration (existente - tooling interno)
# -----------------------------------------------------------------------------
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=true

# -----------------------------------------------------------------------------
# Redis Configuration (Celery broker + Session store)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Celery broker URL
# CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# -----------------------------------------------------------------------------
# ClaveÚnica OIDC (Autenticación nacional - PRODUCCIÓN)
# -----------------------------------------------------------------------------
# Obtener credenciales en: https://claveunica.gob.cl/desarrolladores
CLAVEUNICA_CLIENT_ID=your_client_id_here
CLAVEUNICA_CLIENT_SECRET=your_client_secret_here
CLAVEUNICA_REDIRECT_URI=https://goreos.gorenuble.cl/auth/callback

# Ambiente ClaveÚnica (certificacion | produccion)
CLAVEUNICA_ENV=certificacion

# -----------------------------------------------------------------------------
# Integraciones TDE (Transformación Digital del Estado)
# -----------------------------------------------------------------------------

# PISEE (Plataforma de Interoperabilidad)
PISEE_API_URL=https://api.pisee.cl
PISEE_API_KEY=your_pisee_api_key

# DocDigital (Firma electrónica)
DOCD_API_URL=https://api.docdigital.cl
DOCD_API_KEY=your_docdigital_api_key

# SIGFE (Sistema de Información para la Gestión Financiera del Estado)
SIGFE_API_URL=https://api.sigfe.cl
SIGFE_USERNAME=your_sigfe_username
SIGFE_PASSWORD=your_sigfe_password

# -----------------------------------------------------------------------------
# Monitoring & Error Tracking
# -----------------------------------------------------------------------------

# Sentry (Error tracking)
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Insights (Azure - opcional)
APPINSIGHTS_INSTRUMENTATION_KEY=

# -----------------------------------------------------------------------------
# Email Configuration (Notificaciones)
# -----------------------------------------------------------------------------
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=notificaciones@gorenuble.cl
MAIL_PASSWORD=your_email_password
MAIL_DEFAULT_SENDER=notificaciones@gorenuble.cl

# -----------------------------------------------------------------------------
# Storage & CDN
# -----------------------------------------------------------------------------
# S3-compatible storage para documentos
S3_ENDPOINT_URL=https://s3.amazonaws.com
S3_BUCKET_NAME=goreos-documents
S3_ACCESS_KEY=your_access_key
S3_SECRET_KEY=your_secret_key
S3_REGION=us-east-1

# -----------------------------------------------------------------------------
# Feature Flags (Control de funcionalidades)
# -----------------------------------------------------------------------------
FEATURE_CLAVEUNICA_ENABLED=false
FEATURE_DOCD_ENABLED=false
FEATURE_PISEE_ENABLED=false
FEATURE_CELERY_ENABLED=false

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/goreos.log

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8501

# CSRF protection
CSRF_ENABLED=True

# -----------------------------------------------------------------------------
# Development Tools
# -----------------------------------------------------------------------------
# PgAdmin
PGADMIN_DEFAULT_EMAIL=admin@gorenuble.cl
PGADMIN_DEFAULT_PASSWORD=admin

# Profiling
PROFILER_ENABLED=false

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# 1. NEVER commit .env to git
# 2. Keep .env.example updated when adding new variables
# 3. Use strong passwords in production
# 4. Rotate secrets regularly
# 5. Different .env for each environment (dev, staging, production)
