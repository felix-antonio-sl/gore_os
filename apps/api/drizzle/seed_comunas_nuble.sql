-- Seed: Comunas de la Región del Ñuble (XVI)
-- Ejecutar con: psql -h localhost -U postgres -d gore_os -f seed_comunas_nuble.sql

-- Primero insertar la región y provincia si no existen
INSERT INTO loc_region (id_region, codigo_ine, nombre, capital, superficie_km2, poblacion)
VALUES ('b16e0000-0000-0000-0000-000000000016', '16', 'Ñuble', 'Chillán', 13178.5, 511551)
ON CONFLICT (id_region) DO NOTHING;

INSERT INTO loc_provincia (id_provincia, codigo_ine, nombre, region_id)
VALUES 
  ('b16e0001-0000-0000-0000-000000000001', '161', 'Diguillín', 'b16e0000-0000-0000-0000-000000000016'),
  ('b16e0001-0000-0000-0000-000000000002', '162', 'Itata', 'b16e0000-0000-0000-0000-000000000016'),
  ('b16e0001-0000-0000-0000-000000000003', '163', 'Punilla', 'b16e0000-0000-0000-0000-000000000016')
ON CONFLICT (id_provincia) DO NOTHING;

-- Comunas de Diguillín
INSERT INTO loc_comuna (id_comuna, codigo_ine, nombre, provincia_id, superficie_km2, poblacion, tipologia)
VALUES 
  ('c16e0001-0000-0000-0000-000000000001', '16101', 'Chillán', 'b16e0001-0000-0000-0000-000000000001', 511.2, 184739, 'URBANA'),
  ('c16e0001-0000-0000-0000-000000000002', '16102', 'Bulnes', 'b16e0001-0000-0000-0000-000000000001', 423.8, 21543, 'MIXTA'),
  ('c16e0001-0000-0000-0000-000000000003', '16103', 'Chillán Viejo', 'b16e0001-0000-0000-0000-000000000001', 292.3, 33188, 'URBANA'),
  ('c16e0001-0000-0000-0000-000000000004', '16104', 'El Carmen', 'b16e0001-0000-0000-0000-000000000001', 668.2, 12420, 'RURAL'),
  ('c16e0001-0000-0000-0000-000000000005', '16105', 'Pemuco', 'b16e0001-0000-0000-0000-000000000001', 561.2, 8640, 'RURAL'),
  ('c16e0001-0000-0000-0000-000000000006', '16106', 'Pinto', 'b16e0001-0000-0000-0000-000000000001', 1164.0, 11295, 'RURAL'),
  ('c16e0001-0000-0000-0000-000000000007', '16107', 'Quillón', 'b16e0001-0000-0000-0000-000000000001', 399.4, 16553, 'MIXTA'),
  ('c16e0001-0000-0000-0000-000000000008', '16108', 'San Ignacio', 'b16e0001-0000-0000-0000-000000000001', 359.4, 15444, 'RURAL'),
  ('c16e0001-0000-0000-0000-000000000009', '16109', 'Yungay', 'b16e0001-0000-0000-0000-000000000001', 823.5, 17577, 'MIXTA')
ON CONFLICT (id_comuna) DO NOTHING;

-- Comunas de Itata
INSERT INTO loc_comuna (id_comuna, codigo_ine, nombre, provincia_id, superficie_km2, poblacion, tipologia)
VALUES 
  ('c16e0002-0000-0000-0000-000000000001', '16201', 'Quirihue', 'b16e0001-0000-0000-0000-000000000002', 590.4, 11806, 'RURAL'),
  ('c16e0002-0000-0000-0000-000000000002', '16202', 'Cobquecura', 'b16e0001-0000-0000-0000-000000000002', 570.4, 5404, 'RURAL'),
  ('c16e0002-0000-0000-0000-000000000003', '16203', 'Coelemu', 'b16e0001-0000-0000-0000-000000000002', 336.4, 16692, 'MIXTA'),
  ('c16e0002-0000-0000-0000-000000000004', '16204', 'Ninhue', 'b16e0001-0000-0000-0000-000000000002', 401.7, 5548, 'RURAL'),
  ('c16e0002-0000-0000-0000-000000000005', '16205', 'Portezuelo', 'b16e0001-0000-0000-0000-000000000002', 286.7, 5214, 'RURAL'),
  ('c16e0002-0000-0000-0000-000000000006', '16206', 'Ránquil', 'b16e0001-0000-0000-0000-000000000002', 247.2, 5956, 'RURAL'),
  ('c16e0002-0000-0000-0000-000000000007', '16207', 'Treguaco', 'b16e0001-0000-0000-0000-000000000002', 337.9, 4918, 'RURAL')
ON CONFLICT (id_comuna) DO NOTHING;

-- Comunas de Punilla
INSERT INTO loc_comuna (id_comuna, codigo_ine, nombre, provincia_id, superficie_km2, poblacion, tipologia)
VALUES 
  ('c16e0003-0000-0000-0000-000000000001', '16301', 'San Carlos', 'b16e0001-0000-0000-0000-000000000003', 874.5, 52360, 'URBANA'),
  ('c16e0003-0000-0000-0000-000000000002', '16302', 'Coihueco', 'b16e0001-0000-0000-0000-000000000003', 1783.8, 26403, 'MIXTA'),
  ('c16e0003-0000-0000-0000-000000000003', '16303', 'Ñiquén', 'b16e0001-0000-0000-0000-000000000003', 476.2, 11055, 'RURAL'),
  ('c16e0003-0000-0000-0000-000000000004', '16304', 'San Fabián', 'b16e0001-0000-0000-0000-000000000003', 1529.2, 3831, 'RURAL'),
  ('c16e0003-0000-0000-0000-000000000005', '16305', 'San Nicolás', 'b16e0001-0000-0000-0000-000000000003', 581.4, 11117, 'RURAL')
ON CONFLICT (id_comuna) DO NOTHING;

-- Verificar
SELECT COUNT(*) as total_comunas FROM loc_comuna;
